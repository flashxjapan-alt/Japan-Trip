<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Japan Adventure Itinerary</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
        /* ==================== DESIGN TOKENS ==================== */
        :root {
            /* Color Palette - Primary */
            --color-primary: #3b82f6;
            --color-primary-dark: #2563eb;
            --color-primary-darker: #1d4ed8;
            --color-primary-light: #dbeafe;
            
            /* Color Palette - Accent */
            --color-accent-purple: #8b5cf6;
            --color-accent-pink: #ec4899;
            --color-accent-orange: #f59e0b;
            --color-accent-indigo: #6366f1;
            
            /* Color Palette - Success/Growth */
            --color-success: #10b981;
            --color-success-dark: #059669;
            --color-success-light: #dcfce7;
            
            /* Color Palette - Semantic */
            --color-error: #ef4444;
            --color-warning: #f59e0b;
            --color-info: #0ea5e9;
            
            /* Color Palette - Neutrals */
            --color-neutral-50: #f8fafc;
            --color-neutral-100: #f1f5f9;
            --color-neutral-200: #e2e8f0;
            --color-neutral-400: #cbd5e1;
            --color-neutral-500: #64748b;
            --color-neutral-600: #475569;
            --color-neutral-700: #334155;
            --color-neutral-800: #1e293b;
            --color-neutral-900: #0f172a;
            
            /* Color Palette - Dark Surfaces */
            --color-surface-dark: #1e293b;
            --color-surface-darker: #0f172a;
            --color-surface-darkest: #000000;
            
            /* Color Palette - Light Surfaces */
            --color-surface-light: #ffffff;
            --color-surface-light-alt: rgba(255, 255, 255, 0.95);
            --color-surface-light-dim: rgba(255, 255, 255, 0.7);
            
            /* Backgrounds & Overlays */
            --color-bg-primary: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
            --color-bg-secondary: rgba(248, 250, 252, 0.3);
            --color-bg-overlay-primary: rgba(59, 130, 246, 0.05);
            --color-bg-overlay-secondary: rgba(255, 255, 255, 0.1);
            
            /* Text Colors */
            --color-text-primary: #1e293b;
            --color-text-secondary: #64748b;
            --color-text-muted: #94a3b8;
            --color-text-inverse: #ffffff;
            
            /* Typography Scale */
            --font-family-base: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            
            --font-size-xs: 0.65rem;
            --font-size-sm: 0.75rem;
            --font-size-base: 1rem;
            --font-size-lg: 1.1rem;
            --font-size-xl: 1.2rem;
            --font-size-2xl: 1.4rem;
            --font-size-3xl: 1.6rem;
            --font-size-4xl: 1.75rem;
            --font-size-5xl: 2.25rem;
            
            --font-weight-light: 300;
            --font-weight-normal: 400;
            --font-weight-medium: 500;
            --font-weight-semibold: 600;
            --font-weight-bold: 700;
            --font-weight-extrabold: 800;
            --font-weight-black: 900;
            
            --line-height-tight: 1.2;
            --line-height-base: 1.5;
            --line-height-relaxed: 1.6;
            --line-height-loose: 1.7;
            
            --letter-spacing-tight: -0.025em;
            --letter-spacing-normal: 0;
            --letter-spacing-wide: 0.5px;
            
            /* Spacing Scale */
            --space-0: 0;
            --space-2: 2px;
            --space-4: 4px;
            --space-6: 6px;
            --space-8: 8px;
            --space-10: 10px;
            --space-12: 12px;
            --space-14: 14px;
            --space-16: 16px;
            --space-18: 18px;
            --space-20: 20px;
            --space-24: 24px;
            --space-28: 28px;
            --space-32: 32px;
            
            /* Border Radius */
            --radius-sm: 8px;
            --radius-md: 12px;
            --radius-lg: 16px;
            --radius-xl: 20px;
            --radius-full: 50%;
            
            /* Shadow Scale */
            --shadow-none: none;
            --shadow-xs: 0 1px 4px rgba(0, 0, 0, 0.05);
            --shadow-sm: 0 2px 8px rgba(0, 0, 0, 0.04);
            --shadow-md: 0 4px 16px rgba(0, 0, 0, 0.06);
            --shadow-lg: 0 8px 32px rgba(0, 0, 0, 0.1);
            --shadow-xl: 0 20px 60px rgba(0, 0, 0, 0.08);
            --shadow-primary: 0 6px 20px rgba(59, 130, 246, 0.3);
            --shadow-primary-hover: 0 6px 24px rgba(59, 130, 246, 0.15);
            --shadow-success: 0 6px 24px rgba(16, 185, 129, 0.25);
            
            /* Z-Index */
            --z-bg: -1;
            --z-base: 0;
            --z-dropdown: 10;
            --z-sticky: 20;
            --z-fixed: 30;
            --z-modal: 40;
            
            /* Transitions */
            --transition-fast: 0.2s ease;
            --transition-base: 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            --transition-slow: 0.6s ease;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: var(--font-family-base);
            background: var(--color-bg-primary);
            background-attachment: fixed;
            color: var(--color-text-primary);
            line-height: var(--line-height-relaxed);
            padding: var(--space-20);
            min-height: 100vh;
            position: relative;
        }
        
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-image: radial-gradient(circle at 1px 1px, var(--color-bg-overlay-primary) 1px, transparent 0);
            background-size: 40px 40px;
            pointer-events: none;
            z-index: var(--z-bg);
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: var(--color-surface-light-alt);
            backdrop-filter: blur(20px);
            border-radius: 24px;
            box-shadow: var(--shadow-xl), 0 0 0 1px var(--color-bg-overlay-secondary);
            overflow: hidden;
            border: 1px solid rgba(226, 232, 240, 0.5);
            position: relative;
        }
        
        .header {
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 50%, #334155 100%);
            padding: 48px;
            color: white;
            background: linear-gradient(135deg, var(--color-surface-darker) 0%, var(--color-surface-dark) 50%, var(--color-neutral-700) 100%);
            padding: var(--space-32);
            color: var(--color-text-inverse);
            display: flex;
            align-items: center;
            justify-content: space-between;
            flex-wrap: wrap;
            gap: var(--space-24);
            position: relative;
            overflow: hidden;
        }

        @media (max-width: 768px) {
            .header {
                padding: 32px;
            }
        }
        
        .header::before {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            bottom: 0;
            left: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><circle cx="20" cy="20" r="2" fill="rgba(255,255,255,0.1)"/><circle cx="80" cy="80" r="2" fill="rgba(255,255,255,0.1)"/><circle cx="40" cy="60" r="1" fill="rgba(255,255,255,0.1)"/></svg>');
            opacity: 0.3;
            animation: headerPulse 8s ease-in-out infinite;
        }

        .hero-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 48px;
            align-items: center;
            position: relative;
            z-index: 1;
        }

        @media (max-width: 768px) {
            .hero-grid {
                grid-template-columns: 1fr;
                gap: 32px;
            }
        }
        
        .header-content h1 {
            font-size: 2.75rem;
            font-weight: 800;
            margin: 0 0 16px 0;
            letter-spacing: -0.025em;
            font-size: var(--font-size-5xl);
            font-weight: var(--font-weight-extrabold);
            margin: 0;
            letter-spacing: var(--letter-spacing-tight);
            position: relative;
            z-index: var(--z-fixed);
        }

        @media (max-width: 768px) {
            .header-content h1 {
                font-size: 2rem;
            }
        }
        
        .header-content p {
            font-size: var(--font-size-base);
            opacity: 0.95;
            margin-top: var(--space-8);
            font-weight: var(--font-weight-medium);
            position: relative;
            z-index: var(--z-fixed);
        }
        
        .header-actions {
            display: flex;
            flex-direction: column;
            gap: 24px;
            align-items: stretch;
        }

        .summary-chips {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
            margin-bottom: 0;
        }

        .summary-chip {
            background: rgba(255, 255, 255, 0.15);
            border: 1px solid rgba(255, 255, 255, 0.25);
            padding: 16px;
            border-radius: 12px;
            backdrop-filter: blur(10px);
            text-align: center;
        }

        .summary-chip-value {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 6px;
        }

        @media (max-width: 768px) {
            .summary-chip-value {
                font-size: 1.25rem;
            }
        }

        .summary-chip-label {
            font-size: 0.85rem;
            opacity: 0.85;
            font-weight: 500;
        }

        @media (max-width: 768px) {
            .summary-chip-label {
                font-size: 0.75rem;
            }
        }

        .action-buttons {
            display: flex;
            flex-direction: column;
            gap: 16px;
            width: 100%;
            gap: var(--space-12);
            align-items: center;
            flex-wrap: wrap;
        }
        
        .btn {
            padding: var(--space-14) var(--space-28);
            border: none;
            border-radius: var(--radius-md);
            font-weight: var(--font-weight-semibold);
            font-size: 0.875rem;
            cursor: pointer;
            transition: var(--transition-base);
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: var(--space-8);
            position: relative;
            z-index: var(--z-base);
            min-height: 48px;
        }
        
        .btn-secondary {
            background: var(--color-bg-overlay-secondary);
            color: var(--color-text-inverse);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .btn-secondary:hover {
            background: rgba(255, 255, 255, 0.2);
            border-color: rgba(255, 255, 255, 0.3);
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
            color: white;
            box-shadow: 0 8px 24px rgba(59, 130, 246, 0.4);
        }
        
        .btn-primary:hover {
            background: linear-gradient(135deg, #2563eb 0%, #1d4ed8 100%);
            box-shadow: 0 12px 32px rgba(59, 130, 246, 0.6);
            transform: translateY(-2px);
        }

        .currency-toggle {
            display: flex;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            padding: 4px;
            gap: 4px;
            width: 100%;
            align-items: stretch;
            backdrop-filter: blur(10px);
        }

        .currency-toggle button {
            flex: 1;
            padding: 12px 20px;
            border: none;
            background: transparent;
            color: rgba(255, 255, 255, 0.7);
            font-weight: 600;
            font-size: 0.875rem;
            cursor: pointer;
            border-radius: 8px;
            transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        }

        .currency-toggle button:hover {
            color: white;
        }

        .currency-toggle button[aria-pressed="true"] {
            background: rgba(59, 130, 246, 0.8);
            color: white;
            box-shadow: 0 2px 8px rgba(59, 130, 246, 0.3);
        }

        .pdf-btn {
            width: 100%;
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            color: white;
            box-shadow: 0 8px 24px rgba(16, 185, 129, 0.4);
        }

        .pdf-btn:hover {
            background: linear-gradient(135deg, #059669 0%, #047857 100%);
            box-shadow: 0 12px 32px rgba(16, 185, 129, 0.6);
            background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-primary-dark) 100%);
            color: var(--color-text-inverse);
            box-shadow: 0 4px 15px rgba(59, 130, 246, 0.4);
        }
        
        .btn-primary:hover {
            background: linear-gradient(135deg, var(--color-primary-dark) 0%, var(--color-primary-darker) 100%);
            box-shadow: 0 6px 20px rgba(59, 130, 246, 0.6);
            transform: translateY(-2px);
        }
        
        .nav-container {
            display: flex;
            padding: 16px 24px;
            background: white;
            border-bottom: 1px solid #e2e8f0;
            background: var(--color-neutral-50);
            border-bottom: 2px solid var(--color-neutral-200);
            overflow-x: auto;
            -webkit-overflow-scrolling: touch;
        }

        .tabs {
            display: flex;
            gap: 8px;
            position: relative;
            flex: 1;
            justify-content: flex-start;
            align-items: stretch;
        }
        
        .tab {
            flex: 1;
            padding: var(--space-18) var(--space-24);
            text-align: center;
            background: transparent;
            border: none;
            cursor: pointer;
            font-weight: var(--font-weight-semibold);
            color: var(--color-text-secondary);
            transition: var(--transition-base);
            border-bottom: 3px solid transparent;
            white-space: nowrap;
            min-height: 44px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 8px;
            position: relative;
            font-size: 0.95rem;
        }
        
        .tab:hover {
            background: var(--color-neutral-100);
            color: var(--color-neutral-700);
        }

        .tab:focus-visible {
            outline: 2px solid #3b82f6;
            outline-offset: 2px;
        }
        
        .tab.active {
            background: var(--color-surface-light);
            border-bottom-color: var(--color-primary);
            color: var(--color-primary);
            box-shadow: var(--shadow-primary-hover);
        }

        .tab-indicator {
            position: absolute;
            bottom: 0;
            left: 0;
            height: 3px;
            background: linear-gradient(90deg, #3b82f6 0%, #2563eb 100%);
            border-radius: 2px 2px 0 0;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        @media (max-width: 768px) {
            .nav-container {
                padding: 12px 12px;
            }

            .tabs {
                gap: 4px;
                justify-content: flex-start;
            }

            .tab {
                padding: 10px 16px;
                font-size: 0.85rem;
            }
        }
        
        .content {
            padding: var(--space-24);
        }
        
        /* ==================== REUSABLE UTILITY CLASSES ==================== */
        
        .card {
            background: var(--color-surface-light);
            border: 1px solid var(--color-neutral-200);
            border-radius: var(--radius-lg);
            overflow: hidden;
            transition: var(--transition-base);
            box-shadow: var(--shadow-sm);
        }
        
        .card:hover {
            border-color: var(--color-neutral-400);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
            transform: translateY(-2px);
        }
        
        .chip {
            padding: var(--space-4) var(--space-12);
            border-radius: 16px;
            font-size: var(--font-size-sm);
            font-weight: var(--font-weight-medium);
            display: inline-block;
        }
        
        .badge {
            display: inline-block;
            padding: var(--space-4) var(--space-12);
            border-radius: var(--radius-md);
            font-size: var(--font-size-xs);
            font-weight: var(--font-weight-semibold);
            text-transform: uppercase;
            letter-spacing: var(--letter-spacing-wide);
        }
        
        .stat-chip {
            padding: var(--space-20) var(--space-24);
            border-radius: var(--radius-md);
            text-align: center;
            color: var(--color-text-inverse);
            transition: var(--transition-base);
        }
        
        /* ==================== DAY CARD COMPONENT ==================== */
        
        .day-card {
            background: linear-gradient(135deg, var(--color-surface-light) 0%, var(--color-neutral-50) 100%);
            border: 1px solid rgba(226, 232, 240, 0.8);
            border-radius: var(--radius-xl);
            margin-bottom: var(--space-24);
            overflow: hidden;
            transition: var(--transition-base);
            box-shadow: var(--shadow-md);
            position: relative;
        }
        
        .day-card:hover {
            border-color: var(--color-primary);
            box-shadow: 0 8px 40px rgba(59, 130, 246, 0.15);
            transform: translateY(-4px);
        }
        
        .day-header {
            display: grid;
            grid-template-columns: auto 1fr auto auto;
            align-items: center;
            padding: var(--space-24);
            gap: var(--space-16);
            background: linear-gradient(135deg, var(--color-surface-light) 0%, var(--color-neutral-50) 100%);
            border-bottom: 1px solid rgba(226, 232, 240, 0.5);
            cursor: pointer;
            transition: background var(--transition-fast);
        }
        
        .day-header:hover {
            background: linear-gradient(135deg, var(--color-neutral-50) 0%, var(--color-neutral-100) 100%);
        }
        
        .day-toggle {
            padding: var(--space-8);
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: var(--radius-full);
            background: rgba(59, 130, 246, 0.1);
            width: 40px;
            height: 40px;
            transition: background var(--transition-fast);
        }
        
        .day-toggle:hover {
            background: rgba(59, 130, 246, 0.2);
        }
        
        .day-number {
            width: 64px;
            height: 64px;
            background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-primary-dark) 100%);
            color: var(--color-text-inverse);
            border-radius: var(--radius-xl);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: var(--font-weight-bold);
            font-size: var(--font-size-xl);
            box-shadow: var(--shadow-primary);
            position: relative;
            z-index: var(--z-base);
        }
        
        .day-number::after {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: linear-gradient(135deg, var(--color-primary), var(--color-accent-purple), var(--color-accent-pink));
            border-radius: 22px;
            z-index: var(--z-bg);
            opacity: 0;
            transition: opacity var(--transition-base);
        }
        
        .day-card:hover .day-number::after {
            opacity: 1;
        }
        
        .day-info h3 {
            font-size: var(--font-size-3xl);
            font-weight: var(--font-weight-bold);
            color: var(--color-surface-darker);
            margin-bottom: var(--space-20);
            line-height: var(--line-height-tight);
            letter-spacing: var(--letter-spacing-tight);
        }
        
        .day-meta {
            display: flex;
            align-items: center;
            gap: var(--space-12);
            font-size: 0.875rem;
            color: var(--color-text-secondary);
        }
        
        .location-tag {
            background: var(--color-primary-light);
            color: #1e40af;
            padding: var(--space-4) var(--space-12);
            border-radius: 16px;
            font-size: var(--font-size-sm);
            font-weight: var(--font-weight-medium);
        }
        
        .day-cost {
            text-align: right;
            background: linear-gradient(135deg, var(--color-success) 0%, var(--color-success-dark) 100%);
            color: var(--color-text-inverse);
            padding: var(--space-20) var(--space-24);
            border-radius: var(--radius-lg);
            box-shadow: var(--shadow-success);
            position: relative;
            overflow: hidden;
        }
        
        .day-cost::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
            transition: left var(--transition-slow);
        }
        
        .day-cost:hover::before {
            left: 100%;
        }
        
        .cost-amount {
            font-size: var(--font-size-2xl);
            font-weight: var(--font-weight-extrabold);
            margin-bottom: var(--space-6);
            line-height: var(--line-height-tight);
        }
        
        .cost-per-person {
            font-size: var(--font-size-sm);
            opacity: 0.9;
        }
        
        /* ==================== ACTIVITIES SECTION ==================== */
        
        .activities {
            padding: var(--space-28) var(--space-24);
            background: var(--color-bg-secondary);
        }
        
        .activity {
            display: flex;
            align-items: flex-start;
            margin-bottom: var(--space-14);
            padding: var(--space-16);
            border-radius: var(--radius-md);
            transition: var(--transition-base);
            background: var(--color-surface-light-dim);
            border: 1px solid rgba(226, 232, 240, 0.5);
        }
        
        .activity:hover {
            background: var(--color-surface-light-alt);
            border-color: rgba(59, 130, 246, 0.2);
            transform: translateX(4px);
            box-shadow: var(--shadow-sm);
        }
        
        .activity-bullet {
            margin-right: var(--space-16);
            color: var(--color-primary);
            font-weight: var(--font-weight-bold);
            flex-shrink: 0;
            width: 8px;
            height: 8px;
            border-radius: var(--radius-full);
            background: var(--color-primary);
            margin-top: var(--space-8);
        }
        
        .activity-text {
            color: var(--color-neutral-600);
            font-size: var(--font-size-base);
            line-height: var(--line-height-loose);
            font-weight: var(--font-weight-medium);
            flex: 1;
        }
        
        /* ==================== HIGHLIGHTS SECTION ==================== */
        
        .highlights {
            display: flex;
            flex-wrap: wrap;
            gap: var(--space-20);
            margin-top: var(--space-20);
            padding: var(--space-0) var(--space-24) var(--space-28) var(--space-24);
        }
        
        .highlight-tag {
            padding: var(--space-8) var(--space-16);
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: var(--font-weight-semibold);
            border: 2px solid;
            transition: var(--transition-base);
            cursor: pointer;
        }
        
        .highlight-tag:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }
        
        .highlight-orange {
            background: #fef3c7;
            color: #d97706;
            border-color: var(--color-accent-orange);
        }
        
        .highlight-green {
            background: var(--color-success-light);
            color: #16a34a;
            border-color: #22c55e;
        }
        
        .highlight-blue {
            background: var(--color-primary-light);
            color: var(--color-primary-dark);
            border-color: var(--color-primary);
        }
        
        /* ==================== ALERT BOXES ==================== */
        
        .info-box {
            background: #f0f9ff;
            border: 1px solid var(--color-info);
            border-left: 4px solid var(--color-info);
            padding: var(--space-20);
            border-radius: var(--radius-sm);
            margin-bottom: var(--space-24);
        }
        
        .info-box h4 {
            color: #0c4a6e;
            font-weight: var(--font-weight-semibold);
            margin-bottom: var(--space-8);
        }
        
        .info-box p, .info-box li {
            color: #075985;
            font-size: 0.9rem;
            line-height: var(--line-height-base);
        }
        
        .warning-box {
            background: #fffbeb;
            border: 1px solid var(--color-warning);
            border-left: 4px solid var(--color-warning);
            padding: var(--space-20);
            border-radius: var(--radius-sm);
            margin-bottom: var(--space-24);
        }
        
        .warning-box h4 {
            color: #92400e;
            font-weight: var(--font-weight-semibold);
            margin-bottom: var(--space-8);
        }
        
        .warning-box p {
            color: #a16207;
            font-size: 0.9rem;
            line-height: var(--line-height-base);
        }
        
        /* ==================== TRANSPORT SECTION ==================== */
        
        .transport-card {
            background: var(--color-neutral-50);
            border: 1px solid var(--color-neutral-200);
            border-radius: var(--radius-md);
            padding: var(--space-24);
            margin-bottom: var(--space-20);
        }
        
        .transport-header {
            display: grid;
            grid-template-columns: auto 1fr auto;
            align-items: center;
            gap: var(--space-20);
            margin-bottom: var(--space-16);
        }
        
        .transport-icon {
            width: 48px;
            height: 48px;
            background: var(--color-primary);
            border-radius: var(--radius-sm);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
        }
        
        /* ==================== BUDGET SECTION ==================== */
        
        .budget-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: var(--space-20);
            margin: var(--space-20) 0;
        }
        
        .budget-card {
            padding: var(--space-24);
            border-radius: var(--radius-md);
            text-align: center;
            color: var(--color-text-inverse);
            box-shadow: var(--shadow-md);
            transition: var(--transition-base);
        }
        
        .budget-card:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }
        
        .budget-primary {
            background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-primary-dark) 100%);
        }
        
        .budget-green {
            background: linear-gradient(135deg, #16a34a 0%, #15803d 100%);
        }
        
        .budget-blue {
            background: linear-gradient(135deg, var(--color-info) 0%, #0284c7 100%);
        }
        
        .budget-amount {
            font-size: 2rem;
            font-weight: var(--font-weight-bold);
            margin: var(--space-8) 0;
        }
        
        /* ==================== FOOTER ==================== */
        
        .footer {
            background: var(--color-neutral-50);
            padding: var(--space-24) var(--space-32);
            border-top: 1px solid var(--color-neutral-200);
        }
        
        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: var(--space-20);
            text-align: center;
        }
        
        .footer-item h4 {
            color: var(--color-text-secondary);
            font-size: 0.875rem;
            margin-bottom: var(--space-4);
            font-weight: var(--font-weight-semibold);
        }
        
        .footer-amount {
            font-size: 1.5rem;
            font-weight: var(--font-weight-bold);
            color: var(--color-text-primary);
        }
        
        /* ==================== ACCOMMODATION SECTION ==================== */
        
        .accommodation-card {
            background: linear-gradient(135deg, var(--color-surface-light) 0%, var(--color-neutral-50) 100%);
            border-radius: var(--radius-lg);
            padding: 0;
            margin: var(--space-16) 0;
            color: var(--color-text-primary);
            position: relative;
            overflow: hidden;
            box-shadow: var(--shadow-md);
            transition: var(--transition-base);
            border: 1px solid rgba(226, 232, 240, 0.8);
            height: 160px;
        }
        
        .accommodation-card.tokyo {
            border-left: 4px solid var(--color-accent-pink);
        }
        
        .accommodation-card:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
            border-color: var(--color-primary);
        }
        
        .accommodation-card.osaka {
            border-left: 4px solid var(--color-accent-orange);
        }
        
        .accommodation-card.hiroshima {
            border-left: 6px solid var(--color-accent-indigo);
        }
        
        .accommodation-card.hiroshima .accommodation-badge {
            background: linear-gradient(135deg, var(--color-accent-indigo) 0%, #4f46e5 100%);
        }
        
        .accommodation-content {
            position: relative;
            padding: var(--space-20);
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }
        
        .accommodation-badge {
            display: inline-block;
            background: linear-gradient(135deg, var(--color-success) 0%, var(--color-success-dark) 100%);
            color: var(--color-text-inverse);
            padding: var(--space-4) var(--space-12);
            border-radius: var(--radius-md);
            font-size: var(--font-size-xs);
            font-weight: var(--font-weight-semibold);
            box-shadow: 0 2px 8px rgba(16, 185, 129, 0.2);
            text-transform: uppercase;
            letter-spacing: var(--letter-spacing-wide);
            width: fit-content;
            margin-bottom: var(--space-8);
        }
        
        @keyframes pulse-badge {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        
        .accommodation-top {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: auto;
        }
        
        .accommodation-location {
            display: flex;
            align-items: center;
            gap: var(--space-8);
            font-size: 0.8rem;
            opacity: 0.95;
            margin-top: var(--space-8);
        }
        
        .accommodation-bottom {
            margin-top: auto;
        }
        
        .accommodation-name {
            font-size: var(--font-size-xl);
            font-weight: var(--font-weight-semibold);
            margin-bottom: var(--space-6);
            line-height: var(--line-height-tight);
            color: var(--color-surface-darker);
            padding-right: 90px;
        }
        
        .accommodation-type {
            font-size: 0.9rem;
            color: var(--color-text-secondary);
            margin-bottom: var(--space-16);
            font-weight: var(--font-weight-medium);
        }
        
        .accommodation-rating {
            display: flex;
            align-items: center;
            gap: var(--space-8);
            margin-bottom: var(--space-16);
        }
        
        .accommodation-stars {
            color: var(--color-accent-orange);
            font-size: 1.1rem;
        }
        
        .accommodation-features {
            display: flex;
            flex-wrap: wrap;
            gap: var(--space-6);
            margin: var(--space-12) 0;
        }
        
        .feature-tag {
            background: rgba(59, 130, 246, 0.1);
            border: 1px solid rgba(59, 130, 246, 0.2);
            color: var(--color-primary);
            padding: var(--space-6) var(--space-12);
            border-radius: 16px;
            font-size: 0.7rem;
            font-weight: var(--font-weight-semibold);
        }
        
        .accommodation-book-btn {
            background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-primary-dark) 100%);
            color: var(--color-text-inverse);
            border: none;
            padding: var(--space-14) var(--space-24);
            border-radius: var(--radius-md);
            font-weight: var(--font-weight-semibold);
            font-size: 0.85rem;
            cursor: pointer;
            transition: var(--transition-base);
            box-shadow: var(--shadow-primary);
            width: 100%;
            text-transform: uppercase;
            letter-spacing: var(--letter-spacing-wide);
            position: relative;
            overflow: hidden;
        }
        
        .accommodation-book-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
            transition: left var(--transition-slow);
        }
        
        .accommodation-book-btn:hover::before {
            left: 100%;
        }
        
        .accommodation-book-btn:hover {
            background: var(--color-surface-light);
            color: var(--color-primary);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
            transform: translateY(-2px);
        }
        
        .accommodation-book-btn:active {
            transform: translateY(-1px) scale(0.98);
            box-shadow: var(--shadow-primary);
        }
        
        .accommodation-price {
            position: absolute;
            top: var(--space-16);
            right: var(--space-16);
            text-align: right;
            background: var(--color-surface-light-alt);
            padding: var(--space-8) var(--space-12);
            border-radius: 10px;
            border: 1px solid rgba(226, 232, 240, 0.6);
            box-shadow: var(--shadow-sm);
        }
        
        .accommodation-price-amount {
            font-size: 1.1rem;
            font-weight: var(--font-weight-bold);
            color: var(--color-surface-darker);
            line-height: var(--line-height-tight);
        }
        
        .accommodation-price-unit {
            font-size: var(--font-size-sm);
            color: var(--color-text-secondary);
            font-weight: var(--font-weight-medium);
        }
        
        /* Floating Elements Animation */
        .floating-elements {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            pointer-events: none;
            overflow: hidden;
        }
        
        .floating-element {
            position: absolute;
            opacity: 0.1;
            animation: float 6s ease-in-out infinite;
        }
        
        .floating-element:nth-child(1) { animation-delay: 0s; top: 10%; left: 10%; }
        .floating-element:nth-child(2) { animation-delay: 2s; top: 20%; right: 15%; }
        .floating-element:nth-child(3) { animation-delay: 4s; bottom: 15%; left: 20%; }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(180deg); }
        }
        
        /* ==================== ROUTE MAP SECTION ==================== */
        
        .route-map {
            background: linear-gradient(135deg, var(--color-surface-light) 0%, var(--color-neutral-50) 100%);
            padding: var(--space-32);
            border-radius: var(--radius-xl);
            margin: var(--space-32) 0;
            border: 1px solid rgba(226, 232, 240, 0.8);
            position: relative;
            overflow: hidden;
            box-shadow: var(--shadow-md);
        }

        .route-path {
            display: flex;
            align-items: center;
            justify-content: space-between;
            flex-wrap: wrap;
            gap: var(--space-16);
            position: relative;
            z-index: var(--z-sticky);
        }

        .route-city {
            background: linear-gradient(135deg, var(--color-surface-light) 0%, var(--color-neutral-50) 100%);
            border: 2px solid var(--color-neutral-200);
            border-radius: var(--radius-xl);
            padding: var(--space-16) var(--space-24);
            font-weight: var(--font-weight-semibold);
            color: var(--color-text-primary);
            box-shadow: var(--shadow-sm);
            position: relative;
            min-width: 140px;
            text-align: center;
            transition: var(--transition-base);
        }
        
        .route-city:hover {
            border-color: var(--color-primary);
            transform: translateY(-2px);
            box-shadow: var(--shadow-primary-hover);
        }

        .route-city.current {
            background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-primary-dark) 100%);
            border-color: var(--color-primary);
            color: var(--color-text-inverse);
            box-shadow: var(--shadow-primary);
        }

        .route-arrow {
            font-size: 1.5rem;
            color: var(--color-primary);
            animation: bounce 2s infinite;
        }

        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% { transform: translateX(0); }
            40% { transform: translateX(-5px); }
            60% { transform: translateX(5px); }
        }

        .city-icon {
            background: rgba(59, 130, 246, 0.1);
            border-radius: var(--radius-full);
            width: 48px;
            height: 48px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto var(--space-12) auto;
            font-size: 1.4rem;
            transition: var(--transition-base);
        }
        
        .route-city.current .city-icon {
            background: rgba(255, 255, 255, 0.2);
        }
        
        /* ==================== LOCATION-SPECIFIC DAY CARD COLORS ==================== */
        
        .tokyo-day {
            border-left: 6px solid var(--color-accent-pink);
        }
        
        .tokyo-day:hover {
            border-color: var(--color-accent-pink);
            box-shadow: 0 8px 40px rgba(236, 72, 153, 0.15);
        }
        
        .osaka-day {
            border-left: 6px solid var(--color-accent-orange);
        }
        
        .osaka-day:hover {
            border-color: var(--color-accent-orange);
            box-shadow: 0 8px 40px rgba(245, 158, 11, 0.15);
        }
        
        .kyoto-day {
            border-left: 6px solid var(--color-success);
        }
        
        .kyoto-day:hover {
            border-color: var(--color-success);
            box-shadow: 0 8px 40px rgba(16, 185, 129, 0.15);
        }
        
        .hiroshima-day {
            border-left: 6px solid var(--color-accent-indigo);
        }
        
        .hiroshima-day:hover {
            border-color: var(--color-accent-indigo);
            box-shadow: 0 8px 40px rgba(99, 102, 241, 0.15);
        }
        
        .fuji-day {
            border-left: 6px solid var(--color-accent-purple);
        }
        
        .fuji-day:hover {
            border-color: var(--color-accent-purple);
            box-shadow: 0 8px 40px rgba(139, 92, 246, 0.15);
        }
        
        .disney-day {
            border-left: 6px solid var(--color-error);
        }
        
        .disney-day:hover {
            border-color: var(--color-error);
            box-shadow: 0 8px 40px rgba(239, 68, 68, 0.15);
        }
        
        @keyframes headerPulse {
            0%, 100% { opacity: 0.3; }
            50% { opacity: 0.5; }
        }
        
        /* ==================== ANIMATIONS ==================== */
        
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .day-card {
            animation: fadeInUp 0.6s ease-out;
        }
        
        .day-card:nth-child(2) { animation-delay: 0.1s; }
        .day-card:nth-child(3) { animation-delay: 0.2s; }
        .day-card:nth-child(4) { animation-delay: 0.3s; }
        .day-card:nth-child(5) { animation-delay: 0.4s; }
        .day-card:nth-child(6) { animation-delay: 0.5s; }
        .day-card:nth-child(7) { animation-delay: 0.6s; }
        .day-card:nth-child(8) { animation-delay: 0.7s; }
        .day-card:nth-child(9) { animation-delay: 0.8s; }
        
        /* ==================== RESPONSIVE DESIGN ==================== */
        
        @media (max-width: 768px) {
            body {
                padding: var(--space-12);
                background: var(--color-neutral-50);
            }
            
            .container {
                border-radius: var(--radius-lg);
                box-shadow: 0 8px 32px rgba(0, 0, 0, 0.12);
                margin: 0 auto;
                background: var(--color-surface-light);
                border: 1px solid var(--color-neutral-200);
                overflow: hidden;
                max-width: 100%;
            }
            
            .header {
                padding: var(--space-32) var(--space-24);
                flex-direction: column;
                text-align: center;
                gap: var(--space-20);
                background: linear-gradient(135deg, var(--color-surface-dark) 0%, var(--color-neutral-700) 100%);
                position: relative;
            }
            
            .header-content h1 {
                font-size: var(--font-size-4xl);
                line-height: var(--line-height-tight);
                color: var(--color-text-inverse);
                font-weight: var(--font-weight-bold);
                margin: 0;
            }
            
            .header-content p {
                font-size: 0.95rem;
                opacity: 0.9;
                color: var(--color-text-inverse);
                margin: 0;
            }
            
            .header-actions {
                width: 100%;
                justify-content: center;
                gap: var(--space-12);
            }
            
            .btn {
                padding: var(--space-16) var(--space-24);
                font-size: 0.875rem;
                min-height: 48px;
                flex: 1;
                max-width: 160px;
                border-radius: var(--radius-md);
                font-weight: var(--font-weight-semibold);
            }
            
            .btn-secondary {
                background: var(--color-bg-overlay-secondary);
                border: 1px solid rgba(255, 255, 255, 0.2);
                color: var(--color-text-inverse);
            }
            
            .btn-secondary:hover {
                background: rgba(255, 255, 255, 0.2);
            }
            
            .btn-primary {
                background: var(--color-primary);
                color: var(--color-text-inverse);
                border: none;
                box-shadow: 0 4px 15px rgba(59, 130, 246, 0.4);
            }
            
            .btn-primary:hover {
                background: var(--color-primary-dark);
            }
            
            .tabs {
                overflow-x: auto;
                -webkit-overflow-scrolling: touch;
                scrollbar-width: none;
                -ms-overflow-style: none;
                background: var(--color-neutral-50);
                border-bottom: 1px solid var(--color-neutral-200);
            }
            
            .tabs::-webkit-scrollbar {
                display: none;
            }
            
            .tab {
                min-width: 120px;
                padding: var(--space-16) var(--space-20);
                font-size: 0.875rem;
                font-weight: var(--font-weight-semibold);
                background: transparent;
                border: none;
                cursor: pointer;
                color: var(--color-text-secondary);
                transition: var(--transition-fast);
                border-bottom: 3px solid transparent;
                white-space: nowrap;
            }
            
            .tab:hover {
                background: var(--color-neutral-100);
                color: var(--color-neutral-700);
            }
            
            .tab.active {
                background: var(--color-surface-light);
                border-bottom-color: var(--color-primary);
                color: var(--color-primary);
                box-shadow: var(--shadow-primary-hover);
            }
            
            .content {
                padding: var(--space-20) var(--space-16);
                background: transparent;
            }
            
            .day-card {
                margin-bottom: var(--space-20);
                border-radius: var(--radius-lg);
                background: var(--color-surface-light);
                border: 1px solid var(--color-neutral-200);
                box-shadow: var(--shadow-sm);
                overflow: hidden;
            }
            
            .day-header {
                display: grid;
                grid-template-columns: auto 1fr auto auto;
                align-items: center;
                text-align: left;
                gap: var(--space-12);
                padding: var(--space-16);
                background: linear-gradient(135deg, var(--color-surface-light) 0%, var(--color-neutral-50) 100%);
                border-bottom: 1px solid rgba(226, 232, 240, 0.5);
            }
            
            .day-toggle {
                width: 32px;
                height: 32px;
                padding: var(--space-6);
                background: rgba(59, 130, 246, 0.1);
                border-radius: var(--radius-full);
                display: flex;
                align-items: center;
                justify-content: center;
            }
            
            .day-number {
                width: 56px;
                height: 56px;
                font-size: var(--font-size-xl);
                background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-primary-dark) 100%);
                box-shadow: var(--shadow-primary);
                display: flex;
                align-items: center;
                justify-content: center;
                font-weight: var(--font-weight-bold);
                color: var(--color-text-inverse);
                border-radius: var(--radius-lg);
            }
            
            .day-info {
                flex: 1;
                min-width: 0;
            }
            
            .day-info h3 {
                font-size: 1.1rem;
                margin-bottom: var(--space-6);
                color: var(--color-text-primary);
                font-weight: var(--font-weight-semibold);
                line-height: var(--line-height-tight);
            }
            
            .day-meta {
                display: flex;
                justify-content: flex-start;
                align-items: center;
                gap: var(--space-8);
                font-size: 0.8rem;
                color: var(--color-text-secondary);
                flex-wrap: wrap;
            }
            
            .day-cost {
                text-align: right;
                background: linear-gradient(135deg, var(--color-success) 0%, var(--color-success-dark) 100%);
                color: var(--color-text-inverse);
                padding: var(--space-12) var(--space-14);
                border-radius: var(--radius-md);
                box-shadow: var(--shadow-success);
                min-width: 100px;
                position: relative;
                overflow: hidden;
            }
            
            .cost-amount {
                font-size: 1.1rem;
                font-weight: var(--font-weight-bold);
                margin-bottom: var(--space-2);
                line-height: var(--line-height-tight);
            }
            
            .cost-per-person {
                font-size: var(--font-size-xs);
                opacity: 0.9;
                line-height: 1;
            }
            
            .activities {
                padding: var(--space-20);
            }
            
            .activity {
                padding: var(--space-12);
                margin-bottom: var(--space-8);
                background: var(--color-neutral-50);
                border-radius: var(--radius-sm);
                transition: var(--transition-fast);
                display: flex;
                align-items: flex-start;
            }
            
            .activity:hover {
                background: var(--color-neutral-100);
            }
            
            .activity-bullet {
                margin-right: var(--space-12);
                color: var(--color-primary);
                font-weight: var(--font-weight-semibold);
                flex-shrink: 0;
            }
            
            .activity-text {
                font-size: 0.9rem;
                line-height: var(--line-height-base);
                color: var(--color-neutral-600);
                font-weight: var(--font-weight-medium);
            }
            
            .highlights {
                padding: var(--space-0) var(--space-20) var(--space-20) var(--space-20);
            }
            
            .highlight-tag {
                padding: var(--space-4) var(--space-12);
                border-radius: var(--radius-md);
                font-size: var(--font-size-sm);
                font-weight: var(--font-weight-medium);
                border: 1px solid;
                margin-right: var(--space-8);
                margin-bottom: var(--space-8);
                display: inline-block;
            }
            
            .highlight-orange {
                background: #fef3c7;
                color: #d97706;
                border-color: var(--color-accent-orange);
            }
            
            .highlight-green {
                background: var(--color-success-light);
                color: #16a34a;
                border-color: #22c55e;
            }
            
            .highlight-blue {
                background: var(--color-primary-light);
                color: var(--color-primary-dark);
                border-color: var(--color-primary);
            }
            
            .budget-grid {
                grid-template-columns: 1fr;
                gap: var(--space-12);
                margin: var(--space-16) 0;
            }
            
            .budget-card {
                padding: var(--space-16);
                border-radius: var(--radius-md);
                text-align: center;
                color: var(--color-text-inverse);
                box-shadow: var(--shadow-sm);
            }
            
            .budget-card h4 {
                font-size: 0.9rem;
                margin-bottom: var(--space-8);
                font-weight: var(--font-weight-semibold);
            }
            
            .budget-card p {
                font-size: var(--font-size-sm);
                margin-top: var(--space-4);
                opacity: 0.9;
            }
            
            .budget-primary {
                background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-primary-dark) 100%);
            }
            
            .budget-green {
                background: linear-gradient(135deg, #16a34a 0%, #15803d 100%);
            }
            
            .budget-blue {
                background: linear-gradient(135deg, var(--color-info) 0%, #0284c7 100%);
            }
            
            .budget-amount {
                font-size: var(--font-size-2xl);
                font-weight: var(--font-weight-bold);
                margin: var(--space-6) 0;
            }
            
            .transport-card {
                padding: var(--space-16);
            }
            
            .footer {
                padding: var(--space-20) var(--space-16);
                background: var(--color-neutral-50);
                border-top: 1px solid var(--color-neutral-200);
            }
            
            .footer-content {
                display: grid;
                grid-template-columns: 1fr;
                gap: var(--space-12);
                text-align: center;
            }
            
            .footer-item {
                background: var(--color-surface-light);
                padding: var(--space-12);
                border-radius: 10px;
                border: 1px solid var(--color-neutral-200);
                box-shadow: var(--shadow-xs);
            }
            
            .footer-item h4 {
                color: var(--color-text-secondary);
                font-size: 0.8rem;
                margin-bottom: var(--space-6);
                font-weight: var(--font-weight-semibold);
            }
            
            .footer-amount {
                font-size: 1.2rem;
                font-weight: var(--font-weight-bold);
                color: var(--color-text-primary);
            }
            
            .info-box, .warning-box {
                padding: var(--space-16);
                margin-bottom: var(--space-16);
                border-radius: var(--radius-sm);
                background: #f0f9ff;
                border: 1px solid var(--color-info);
                border-left: 4px solid var(--color-info);
            }
            
            .warning-box {
                background: #fffbeb;
                border-color: var(--color-warning);
                border-left-color: var(--color-warning);
            }
            
            .accommodation-card {
                margin: var(--space-12) 0;
                height: 100px;
                border-radius: var(--radius-md);
                background: linear-gradient(135deg, var(--color-surface-light) 0%, var(--color-neutral-50) 100%);
                box-shadow: var(--shadow-sm);
                border: 1px solid rgba(226, 232, 240, 0.8);
                position: relative;
                overflow: hidden;
            }
            
            .accommodation-content {
                padding: var(--space-12);
                height: 100%;
                display: flex;
                flex-direction: column;
                justify-content: space-between;
            }
            
            .accommodation-name {
                font-size: 0.85rem;
                margin-bottom: var(--space-2);
                font-weight: var(--font-weight-semibold);
                color: var(--color-surface-darker);
                padding-right: 65px;
                line-height: var(--line-height-tight);
            }
            
            .accommodation-type {
                font-size: 0.6rem;
                color: var(--color-text-secondary);
                margin-bottom: var(--space-4);
            }
            
            .accommodation-price {
                top: var(--space-12);
                right: var(--space-12);
                background: var(--color-surface-light-alt);
                border-radius: var(--radius-sm);
                padding: var(--space-6) var(--space-10);
                box-shadow: var(--shadow-xs);
                border: 1px solid rgba(226, 232, 240, 0.6);
            }
            
            .accommodation-price-amount {
                font-size: 0.95rem;
                font-weight: var(--font-weight-bold);
                color: var(--color-surface-darker);
                line-height: var(--line-height-tight);
            }
            
            .accommodation-price-unit {
                font-size: var(--font-size-xs);
                color: var(--color-text-secondary);
                opacity: 0.8;
            }
            
            .accommodation-features {
                margin: var(--space-8) 0;
                gap: var(--space-4);
            }
            
            .feature-tag {
                padding: var(--space-2) var(--space-6);
                font-size: 0.55rem;
                border-radius: var(--radius-sm);
            }
            
            .accommodation-book-btn {
                padding: var(--space-8) var(--space-14);
                font-size: 0.7rem;
                border-radius: var(--radius-sm);
                background: rgba(255, 255, 255, 0.9);
                box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
                font-weight: var(--font-weight-semibold);
                color: var(--color-text-primary);
                border: none;
                cursor: pointer;
                transition: var(--transition-base);
                width: 100%;
            }
            
            .accommodation-book-btn:hover {
                background: rgba(255, 255, 255, 1);
                transform: translateY(-1px);
                box-shadow: 0 6px 20px rgba(0, 0, 0, 0.25);
            }
            
            .route-map {
                padding: var(--space-16);
                margin: var(--space-16) 0;
                background: linear-gradient(135deg, var(--color-surface-light) 0%, var(--color-neutral-50) 100%);
                border-radius: var(--radius-md);
                border: 1px solid rgba(226, 232, 240, 0.8);
            }
            
            .route-map h4 {
                font-size: 0.95rem;
                margin-bottom: var(--space-12);
                text-align: center;
                color: var(--color-text-primary);
            }
            
            .route-path {
                display: grid;
                grid-template-columns: 1fr auto 1fr auto 1fr auto 1fr;
                align-items: center;
                gap: var(--space-8);
                justify-items: center;
            }
            
            .route-city {
                padding: var(--space-8) var(--space-10);
                font-size: 0.65rem;
                text-align: center;
                border-radius: var(--radius-sm);
                font-weight: var(--font-weight-semibold);
                background: var(--color-surface-light);
                border: 1px solid rgba(226, 232, 240, 0.8);
                min-width: 50px;
            }
            
            .route-city .city-icon {
                font-size: 1.2rem;
                margin-bottom: var(--space-2);
                display: block;
            }
            
            .route-arrow {
                font-size: 0.8rem;
                color: var(--color-text-secondary);
                transform: none;
            }
            
            /* Mobile optimizations for clean design */
            .day-card {
                margin-bottom: var(--space-20);
            }
            
            .activities {
                padding: var(--space-16);
            }
            
            .activity {
                padding: var(--space-16) var(--space-12);
                margin-bottom: var(--space-12);
                border-radius: var(--radius-md);
                background: var(--color-surface-light);
                border: 1px solid rgba(226, 232, 240, 0.8);
                box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
            }
            
            .activity strong {
                font-size: 0.9rem;
                display: block;
                margin-bottom: var(--space-4);
                color: var(--color-text-primary);
            }
            
            .activity p {
                font-size: 0.8rem;
                line-height: 1.4;
                margin: 0;
                color: var(--color-text-secondary);
            }
            
            /* Touch targets */
            button, .tab, .accommodation-book-btn {
                min-height: 44px;
                min-width: 44px;
                touch-action: manipulation;
            }
            
            .tab {
                padding: var(--space-12) var(--space-16);
                font-size: 0.9rem;
            }
            
            .action-button {
                padding: var(--space-12) var(--space-20);
                font-size: 0.9rem;
                border-radius: var(--radius-sm);
            }
        }
        
        /* Extra small devices (320px to 480px) */
        @media (max-width: 480px) {
            body {
                padding: var(--space-0);
                font-size: 14px;
            }
            
            .container {
                border-radius: var(--space-0);
                max-width: 100%;
            }
            
            .header {
                padding: var(--space-20) var(--space-16);
                border-radius: var(--space-0);
            }
            
            .header-content h1 {
                font-size: 1.4rem;
                line-height: var(--line-height-tight);
                margin-bottom: var(--space-6);
                text-align: center;
            }
            
            .header-content p {
                font-size: var(--font-size-sm);
                line-height: 1.3;
                text-align: center;
                opacity: 0.9;
            }
            
            .content {
                padding: var(--space-12) var(--space-8);
            }
            
            .day-card {
                margin-bottom: var(--space-14);
                border-radius: var(--radius-md);
            }
            
            .day-header h3 {
                font-size: 1rem;
            }
            
            .accommodation-card {
                height: 120px;
                margin: var(--space-12) 0;
            }
            
            .tabs {
                padding: var(--space-8);
                gap: var(--space-6);
            }
            
            .tab {
                padding: var(--space-10) var(--space-12);
                font-size: 0.8rem;
            }
        }
        
        /* Ultra small devices (375px and below) */
        @media (max-width: 375px) {
            .header-content h1 {
                font-size: 1.2rem;
                margin-bottom: var(--space-4);
            }
            
            .day-number {
                width: 35px;
                height: 35px;
                font-size: 1rem;
            }
            
            .route-city {
                padding: var(--space-6) var(--space-8);
                font-size: 0.6rem;
                min-width: 45px;
            }
            
            .route-city .city-icon {
                font-size: 1rem;
            }
            
            .route-map {
                padding: var(--space-12);
                margin: var(--space-12) 0;
            }
            
            .route-map h4 {
                font-size: 0.85rem;
                margin-bottom: var(--space-20);
            }
            
            .budget-amount, .footer-amount {
                font-size: 1.1rem;
            }
            
            .activity {
                padding: var(--space-12) var(--space-8);
            }
            
            .day-header {
                padding: var(--space-20) var(--space-16);
            }
            
            .day-number {
                width: 48px;
                height: 48px;
                font-size: var(--font-size-lg);
            }
            
            .day-info h3 {
                font-size: var(--font-size-lg);
            }
            
            .activities {
                padding: var(--space-16) var(--space-12);
            }
            
            .activity {
                padding: var(--space-10) var(--space-12);
                margin-bottom: var(--space-8);
                border-radius: 10px;
            }
            
            .highlights {
                padding: var(--space-12);
            }
            
            .highlight-tag {
                font-size: 0.7rem;
                padding: var(--space-4) var(--space-8);
            }
            
            .activity-text {
                font-size: 0.85rem;
            }
            
            .btn {
                font-size: 0.8rem;
                padding: var(--space-16) var(--space-20);
                border-radius: 14px;
            }
            
            .accommodation-card {
                height: 280px;
                border-radius: var(--radius-xl);
                margin: var(--space-20) 0;
            }
            
            .accommodation-content {
                padding: var(--space-20);
            }
            
            .accommodation-name {
                font-size: var(--font-size-xl);
            }
            
            .accommodation-price {
                top: var(--space-20);
                right: var(--space-20);
                padding: var(--space-6) var(--space-10);
            }
            
            .accommodation-book-btn {
                padding: var(--space-14) var(--space-20);
                font-size: 0.8rem;
                border-radius: 14px;
            }
            
            .budget-card {
                padding: var(--space-20);
                border-radius: var(--radius-lg);
            }
            
            .footer {
                padding: var(--space-24) var(--space-16);
            }
            
            .footer-item {
                padding: var(--space-16);
                border-radius: var(--radius-md);
            }
            
            /* Simple touch feedback for mobile */
            .btn:active {
                opacity: 0.8;
            }
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState } = React;
        
        const JapanItinerary = () => {
            const [currency, setCurrency] = useState('JPY');
            const [activeTab, setActiveTab] = useState('itinerary');
            const [expandedDays, setExpandedDays] = useState({});
            
            const toggleExpanded = (dayIndex) => {
                setExpandedDays(prev => ({
                    ...prev,
                    [dayIndex]: !prev[dayIndex]
                }));
            };
            
            const rates = {
                JPY_INR: 0.56,
                INR_JPY: 1.79
            };
            
            const convertCurrency = (amount, from, to) => {
                if (from === to) return amount;
                if (from === 'JPY' && to === 'INR') return amount * rates.JPY_INR;
                if (from === 'INR' && to === 'JPY') return amount * rates.INR_JPY;
                return amount;
            };
            
            const formatPrice = (amount, origCurrency) => {
                if (currency === origCurrency) {
                    if (currency === 'JPY') return `${amount.toLocaleString('en-JP')}`;
                    if (currency === 'INR') return `${amount.toLocaleString('en-IN')}`;
                }
                
                const converted = Math.round(convertCurrency(amount, origCurrency, currency));
                
                if (currency === 'JPY') return `${converted.toLocaleString('en-JP')}`;
                if (currency === 'INR') return `${converted.toLocaleString('en-IN')}`;
                
                return `${converted}`;
            };
            
            const dayTours = [
                {
                    day: 1,
                    date: 'September 25, 2025',
                    area: 'Tokyo',
                    description: 'Tokyo Arrival & Evening Introduction',
                    activities: [
                        ' Flight arrival at 20:30 (8:30 PM)',
                        ' Private car pickup from airport (15,000 group)',
                        ' Transfer time: 60-90 minutes to accommodation',
                        ' Check-in and settle at accommodation',
                        ' Late evening convenience store exploration (if energy permits)',
                        ' Light dinner or snacks near accommodation'
                    ],
                    price: 13000,
                    groupPrice: true,
                    highlights: ['Arrival Day', 'Private Transfer', 'Late Evening'],
                    accommodation: {
                        name: 'APA Hotel Shibuya Dogenzaka',
                        type: 'Budget Business Hotel',
                        rating: 4.1,
                        price: 7000,
                        features: ['Shibuya Location', 'Free WiFi', 'Large LCD TV']
                    }
                },
                {
                    day: 2,
                    date: 'September 26, 2025',
                    area: 'Tokyo',
                    description: 'Tokyo Skytree & Modern Culture',
                    activities: [
                        ' Early start: Depart accommodation at 9:00 AM',
                        ' Metro to Tokyo Skytree (30 min, 300)',
                        ' Tokyo Skytree Tembo Deck + Galleria (8,500 per person)',
                        ' Tokyo Solamachi shopping complex exploration',
                        ' Metro to Shibuya (45 min, 200)',
                        ' Shibuya Crossing - World\'s busiest intersection (Free)',
                        ' Walk to Harajuku (15 min)',
                        ' Harajuku Youth Culture - Takeshita Street (Free)',
                        ' Authentic Ramen dinner + return transport (400)'
                    ],
                    price: 12500,
                    highlights: ['Tokyo Skytree', 'Solamachi', 'Modern Tokyo', 'Youth Culture']
                },
                {
                    day: 3,
                    date: 'September 27, 2025',
                    area: 'Tokyo Disney',
                    description: 'Tokyo Disneyland Magic',
                    activities: [
                        ' Early departure: 8:00 AM from accommodation',
                        ' JR Keiyo Line to Maihama Station (45 min, 220)',
                        ' Walk to Tokyo Disneyland (5 min)',
                        ' Disney 1-Day Pass (14,000 per person)',
                        ' Beauty & The Beast - New flagship attraction',
                        ' Space Mountain + Pirates of the Caribbean',
                        ' Haunted Mansion with seasonal themes',
                        ' Disney Parade & Evening Fireworks',
                        ' Return via JR Keiyo Line (220)'
                    ],
                    price: 19000,
                    highlights: ['Disney Magic', 'New Attractions', 'Full Day Experience']
                },
                {
                    day: 4,
                    date: 'September 28, 2025',
                    area: 'Mount Fuji',
                    description: 'Mount Fuji Adventure Day',
                    activities: [
                        ' Very early departure: 7:00 AM',
                        ' Private car transport to Mount Fuji region (2.5 hours)',
                        ' Chureito Pagoda - Iconic Mount Fuji photography',
                        ' Oshino Hakkai Village - Traditional village with sacred springs',
                        ' Kawaguchi Lake Region exploration & lunch',
                        ' Lake Kawaguchi scenic cruise (930 per person)',
                        ' Private car return to Tokyo (2.5 hours)',
                        ' Evening arrival back in Tokyo'
                    ],
                    price: 25000,
                    groupPrice: true,
                    highlights: ['Mount Fuji', 'Private Transport', 'Photo Spots', 'Traditional Village', 'Lake Cruise']
                },
                {
                    day: 5,
                    date: 'September 29, 2025',
                    area: 'Osaka',
                    description: 'Osaka Castle & Universal Studios',
                    activities: [
                        ' Early departure: 6:30 AM from Tokyo',
                        ' Shinkansen Hikari to Osaka (3 hours, 13,320 per person)',
                        ' Arrival Osaka Station, transfer to Osaka Castle (30 min, 240)',
                        ' Osaka Castle & Museum (5,600 per person)',
                        ' Lunch at Osaka Castle Park',
                        ' Transfer to Universal Studios Japan (45 min, 160)',
                        ' Universal Studios Japan 1-Day Pass (13,801 per person)',
                        ' Harry Potter World & Nintendo World attractions',
                        ' Return to accommodation via local transport (400)'
                    ],
                    price: 35000,
                    highlights: ['Osaka Castle', 'Universal Studios', 'Harry Potter', 'Nintendo World'],
                    accommodation: {
                        name: 'APA Hotel Osaka Namba Ekimae',
                        type: 'Budget Business Hotel',
                        rating: 4.2,
                        price: 6500,
                        features: ['Namba Station Access', 'Public Bath', 'Free WiFi']
                    }
                },
                {
                    day: 6,
                    date: 'September 30, 2025',
                    area: 'Kyoto',
                    description: 'Kyoto Golden Temples & Nara Deer Park',
                    activities: [
                        ' Early departure: 7:00 AM from Osaka',
                        ' Keihan Main Line to Kyoto (1 hour, 400)',
                        ' Kinkaku-ji Golden Pavilion (5,500 per person)',
                        ' Bus to Arashiyama (45 min, 230)',
                        ' Arashiyama Bamboo Grove (Free)',
                        ' Traditional Kyoto lunch in Arashiyama',
                        ' Train to Nara (1.5 hours, 620)',
                        ' Nara Deer Park & Todai-ji Temple (5,600 per person)',
                        ' Evening: Fushimi Inari Shrine - 10,000 torii gates (Free)',
                        ' Return to Osaka via Keihan Line (1 hour, 400)'
                    ],
                    price: 20000,
                    highlights: ['Golden Pavilion', 'Bamboo Grove', 'Nara Deer Park', 'Fushimi Inari']
                },
                {
                    day: 7,
                    date: 'October 1, 2025',
                    area: 'Hiroshima',
                    description: 'Hiroshima Peace Memorial & Miyajima',
                    activities: [
                        ' Early departure: 7:30 AM from Osaka',
                        ' Shinkansen Nozomi to Hiroshima (1.5 hours, 11,300 per person)',
                        ' Hiroshima streetcar to Peace Park (20 min, 190)',
                        ' Atomic Bomb Dome (Free outdoor viewing)',
                        ' Peace Memorial Museum (5,200 per person)',
                        ' Hiroshima-style okonomiyaki lunch',
                        ' JR Ferry to Miyajima Island (45 min, 180)',
                        ' Itsukushima Shrine - Floating torii gate (5,300 per person)',
                        ' Overnight stay in Hiroshima'
                    ],
                    price: 18000,
                    highlights: ['Peace Memorial', 'Atomic History', 'Miyajima Island', 'Overnight Stay'],
                    accommodation: {
                        name: 'APA Hotel Hiroshima Ekimae Ohashi',
                        type: 'Budget Business Hotel',
                        rating: 4.0,
                        price: 5500,
                        features: ['4 min from Station', 'Public Bath', 'Free WiFi']
                    }
                },
                {
                    day: 8,
                    date: 'October 2-3, 2025',
                    area: 'Tokyo',
                    description: 'teamLab Planets, Tokyo Bay & Departure',
                    activities: [
                        ' Oct 2: Morning departure from Hiroshima',
                        ' Shinkansen return to Tokyo (4.5 hours, 18,050)',
                        ' Afternoon: teamLab Planets experience (9,500 per person)',
                        ' Toyosu Fish Market visit (Free)',
                        ' Tokyo Bayfront & Aqua City exploration',
                        ' Farewell dinner at traditional Izakaya',
                        ' Oct 3: Final souvenir shopping',
                        ' Private car to airport (15,000 group)',
                        ' Flight departure preparations'
                    ],
                    price: 14000,
                    highlights: ['teamLab Planets', 'Fish Market', 'Tokyo Bay', 'Departure Day']
                }
            ];
            
            const transportation = [
                {
                    name: 'Airport Pickup (Arrival)',
                    from: 'Airport',
                    to: 'Tokyo Accommodation',
                    date: 'September 25, 2025',
                    price: 15000,
                    notes: 'Private car pickup service - Group price for 3 people'
                },
                {
                    name: 'Tokyo to Osaka',
                    from: 'Tokyo Station',
                    to: 'Osaka Station',
                    date: 'September 29, 2025',
                    price: 13320,
                    notes: 'Hikari Shinkansen - One way per person (3 hours)'
                },
                {
                    name: 'Osaka to Hiroshima',
                    from: 'Osaka Station',
                    to: 'Hiroshima Station',
                    date: 'October 1, 2025',
                    price: 11300,
                    notes: 'Nozomi Shinkansen - One way to Hiroshima (1.5 hours)'
                },
                {
                    name: 'Hiroshima to Tokyo (Return)',
                    from: 'Hiroshima Station',
                    to: 'Tokyo Station',
                    date: 'October 2, 2025',
                    price: 18050,
                    notes: 'Nozomi Shinkansen - One way return to Tokyo (4.5 hours)'
                },
                {
                    name: 'Airport Drop-off (Departure)',
                    from: 'Tokyo Accommodation',
                    to: 'Airport',
                    date: 'October 3, 2025',
                    price: 15000,
                    notes: 'Private car drop-off service - Group price for 3 people'
                },
                {
                    name: 'Local Transport (8 days)',
                    from: 'Various locations',
                    to: 'Daily activities',
                    date: 'September 25 - October 3, 2025',
                    price: 8000,
                    notes: 'Daily metro/JR passes, IC card usage - estimated per person for all local transport'
                }
            ];
            
            const calculateTotal = () => {
                let total = dayTours.reduce((sum, tour) => sum + (tour.groupPrice ? tour.price : tour.price * 3), 0);
                // Add transportation costs - some are group prices, some are per person
                total += transportation.reduce((sum, transport) => {
                    if (transport.name.includes('Airport')) {
                        return sum + transport.price; // Group prices for airport transfers
                    } else {
                        return sum + (transport.price * 3); // Per person prices for trains
                    }
                }, 0);
                // Add accommodation costs
                total += dayTours.reduce((sum, tour) => sum + (tour.accommodation ? tour.accommodation.price * 3 : 0), 0);
                return total;
            };
            
            const calculatePerPerson = () => {
                let total = dayTours.reduce((sum, tour) => sum + (tour.groupPrice ? Math.round(tour.price / 3) : tour.price), 0);
                // Add transportation costs per person
                total += transportation.reduce((sum, transport) => {
                    if (transport.name.includes('Airport')) {
                        return sum + Math.round(transport.price / 3); // Group prices divided by 3
                    } else {
                        return sum + transport.price; // Per person prices
                    }
                }, 0);
                // Add accommodation costs per person
                total += dayTours.reduce((sum, tour) => sum + (tour.accommodation ? tour.accommodation.price : 0), 0);
                return total;
            };
            
            const getHighlightClass = (highlight) => {
                if (highlight.includes('Tokyo') || highlight.includes('Disney') || highlight.includes('Shinkansen')) {
                    return 'highlight-orange';
                } else if (highlight.includes('Mount Fuji') || highlight.includes('Scenic') || highlight.includes('Village')) {
                    return 'highlight-green';
                } else {
                    return 'highlight-blue';
                }
            };
            
            const getDayCardClass = (area) => {
                if (area.toLowerCase().includes('tokyo')) return 'day-card tokyo-day';
                if (area.toLowerCase().includes('osaka')) return 'day-card osaka-day';
                if (area.toLowerCase().includes('kyoto')) return 'day-card kyoto-day';
                if (area.toLowerCase().includes('hiroshima')) return 'day-card hiroshima-day';
                if (area.toLowerCase().includes('fuji')) return 'day-card fuji-day';
                if (area.toLowerCase().includes('disney')) return 'day-card disney-day';
                return 'day-card';
            };
            
            const renderItinerary = () => (
                <div>
                    <div className="info-box">
                        <h4> Complete 8-Day Japan Adventure with Strategic Route</h4>
                        <p>Experience the perfect balance of iconic attractions with authentic cultural experiences. This enhanced itinerary covers Tokyo  Osaka  Kyoto  Hiroshima with detailed transportation and timing, perfectly planned for your October 3rd departure.</p>
                    </div>
                    
                    <div className="route-map">
                        <h4 style={{textAlign: 'center', marginBottom: '20px', color: '#1e293b'}}> Your Japan Journey Route</h4>
                        <div className="route-path">
                            <div className="route-city current">
                                <div className="city-icon"></div>
                                <strong>TOKYO</strong><br/>
                                <small>Days 1-4 & 8</small>
                            </div>
                            <div className="route-arrow"></div>
                            <div className="route-city">
                                <div className="city-icon"></div>
                                <strong>OSAKA</strong><br/>
                                <small>Day 5</small>
                            </div>
                            <div className="route-arrow"></div>
                            <div className="route-city">
                                <div className="city-icon"></div>
                                <strong>KYOTO</strong><br/>
                                <small>Day 6</small>
                            </div>
                            <div className="route-arrow"></div>
                            <div className="route-city">
                                <div className="city-icon"></div>
                                <strong>HIROSHIMA</strong><br/>
                                <small>Day 7</small>
                            </div>
                            <div className="route-arrow"></div>
                            <div className="route-city">
                                <div className="city-icon"></div>
                                <strong>TOKYO</strong><br/>
                                <small>Return</small>
                            </div>
                        </div>
                    </div>
                    
                    {dayTours.map((day, index) => (
                        <div key={day.day} className={getDayCardClass(day.area)}>
                            <div className="day-header" onClick={() => toggleExpanded(index)} style={{cursor: 'pointer'}}>
                                <div className="day-number">{day.day}</div>
                                <div className="day-info">
                                    <h3>{day.description}</h3>
                                    <div className="day-meta">
                                        <span> {day.date}</span>
                                        <span className="location-tag"> {day.area}</span>
                                    </div>
                                </div>
                                <div className="day-toggle">
                                    <span style={{
                                        fontSize: '1.2rem',
                                        transform: expandedDays[index] ? 'rotate(180deg)' : 'rotate(0deg)',
                                        transition: 'transform 0.3s ease',
                                        display: 'inline-block'
                                    }}></span>
                                </div>
                                <div className="day-cost">
                                    <div className="cost-amount">{formatPrice(day.groupPrice ? Math.round(day.price / 3) : day.price, 'JPY')}</div>
                                    <div className="cost-per-person">{day.groupPrice ? 'Per Person (Group Price)' : 'Individual Cost'}</div>
                                </div>
                            </div>
                            
                            {expandedDays[index] && (
                                <div>
                                    <div className="activities">
                                        {day.activities.map((activity, idx) => (
                                            <div key={idx} className="activity">
                                                <span className="activity-bullet"></span>
                                                <span className="activity-text">{activity}</span>
                                            </div>
                                        ))}
                                    </div>
                                    
                                    <div className="highlights">
                                        {day.highlights.map((highlight, idx) => (
                                            <span key={idx} className={`highlight-tag ${getHighlightClass(highlight)}`}>
                                                {highlight}
                                            </span>
                                        ))}
                                    </div>
                                </div>
                            )}
                            
                            {day.accommodation && (
                                <div className={`accommodation-card ${day.area.toLowerCase().includes('osaka') ? 'osaka' : day.area.toLowerCase().includes('hiroshima') ? 'hiroshima' : ''}`}>
                                    <div className="accommodation-price">
                                        <div className="accommodation-price-amount">{formatPrice(day.accommodation.price, 'JPY')}</div>
                                        <div className="accommodation-price-unit">per night</div>
                                    </div>
                                    
                                    <div className="accommodation-content">
                                        <div className="accommodation-top">
                                            <div>
                                                <div className="accommodation-badge"> Overnight Stay</div>
                                                <div className="accommodation-location">
                                                    <span> {day.area}</span>
                                                </div>
                                            </div>
                                        </div>
                                        
                                        <div className="accommodation-bottom">
                                            <div className="accommodation-name">{day.accommodation.name}</div>
                                            <div className="accommodation-type">{day.accommodation.type}</div>
                                            
                                            <div className="accommodation-rating">
                                                <div className="accommodation-stars">
                                                    {''.repeat(Math.floor(day.accommodation.rating))}
                                                    {day.accommodation.rating % 1 !== 0 && ''}
                                                </div>
                                                <span>{day.accommodation.rating}</span>
                                            </div>
                                            
                                            <div className="accommodation-features">
                                                {day.accommodation.features.map((feature, idx) => (
                                                    <span key={idx} className="feature-tag">{feature}</span>
                                                ))}
                                            </div>
                                            
                                            <button className="accommodation-book-btn">
                                                Book your stay
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            )}
                        </div>
                    ))}
                </div>
            );
            
            const renderTransportation = () => (
                <div>
                    <div className="warning-box">
                        <h4> Smart Transportation Strategy:</h4>
                        <p>Skip the expensive JR Pass! Individual tickets save you approximately 15,000+ compared to the 50,000 7-day pass. Your travel pattern focuses on Tokyo with just one Kansai day trip, making individual tickets much more economical.</p>
                    </div>
                    
                    {transportation.map((train, idx) => (
                        <div key={idx} className="transport-card">
                            <div className="transport-header">
                                <div className="transport-icon"></div>
                                <div>
                                    <h3>{train.name}</h3>
                                    <p> {train.date}</p>
                                </div>
                                <div className="day-cost">
                                    <div className="cost-amount">
                                        {train.name.includes('Airport') ? 
                                            formatPrice(train.price, 'JPY') : 
                                            formatPrice(train.price * 3, 'JPY')
                                        }
                                    </div>
                                    <div className="cost-per-person">
                                        {train.name.includes('Airport') ? 'Group Price' : 'Total for 3 People'}
                                    </div>
                                </div>
                            </div>
                            
                            <div className="info-box" style={{marginTop: '16px'}}>
                                <p>{train.notes}</p>
                            </div>
                        </div>
                    ))}
                    
                    <div className="info-box">
                        <h4>Additional Transportation Info:</h4>
                        <ul>
                            <li> Welcome Suica IC Card (1,500) for all local Tokyo transport</li>
                            <li> Tokyo local transport: 800-1,200 per day using IC card</li>
                            <li> Airport transfer: Narita Express (3,070) or Skyliner (2,580)</li>
                            <li> Mount Fuji day tour includes return transport from Tokyo</li>
                        </ul>
                    </div>
                </div>
            );
            
            const renderBudget = () => (
                <div>
                    <div className="budget-grid">
                        <div className="budget-card budget-primary">
                            <h4>Total for 3 People</h4>
                            <div className="budget-amount">{formatPrice(calculateTotal(), 'JPY')}</div>
                            <p>Complete 8-day Japan adventure</p>
                        </div>
                        
                        <div className="budget-card budget-green">
                            <h4>Cost Per Person</h4>
                            <div className="budget-amount">{formatPrice(calculatePerPerson(), 'JPY')}</div>
                            <p>Individual traveler cost</p>
                        </div>
                        
                        <div className="budget-card budget-blue">
                            <h4>Daily Average</h4>
                            <div className="budget-amount">{formatPrice(Math.round(calculatePerPerson() / 8), 'JPY')}</div>
                            <p>Per person, per day</p>
                        </div>
                    </div>
                    
                    <div className="info-box">
                        <h4> Cost Breakdown Summary</h4>
                        <div style={{display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(250px, 1fr))', gap: '20px', marginTop: '16px'}}>
                            <div>
                                <h5 style={{color: '#059669', marginBottom: '12px'}}>Major Experiences (Per Person)</h5>
                                <ul style={{fontSize: '0.9rem', lineHeight: '1.6', color: '#374151'}}>
                                    <li> Tokyo Disneyland: 19,000</li>
                                    <li> Universal Studios Japan: 35,000</li>
                                    <li> Mount Fuji Day Trip: 8,333 (group price)</li>
                                    <li> teamLab Planets: 14,000</li>
                                    <li> Tokyo Skytree: 12,500</li>
                                </ul>
                            </div>
                            <div>
                                <h5 style={{color: '#3b82f6', marginBottom: '12px'}}>What's Included</h5>
                                <ul style={{fontSize: '0.9rem', lineHeight: '1.6', color: '#374151'}}>
                                    <li> Airport pickup & drop-off (private car)</li>
                                    <li> All Shinkansen bullet train tickets</li>
                                    <li> All local transportation (metro, JR, buses)</li>
                                    <li> All attraction entrance fees & tickets</li>
                                    <li> Mount Fuji private car tour</li>
                                    <li> Budget APA Hotels (7 nights total)</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            );
            
            const handleCurrencyToggle = (selectedCurrency) => {
                setCurrency(selectedCurrency);
            };

            const handleKeyDown = (e, index, tabCount) => {
                let nextIndex = index;
                if (e.key === 'ArrowRight') {
                    nextIndex = (index + 1) % tabCount;
                    e.preventDefault();
                } else if (e.key === 'ArrowLeft') {
                    nextIndex = (index - 1 + tabCount) % tabCount;
                    e.preventDefault();
                } else if (e.key === 'Home') {
                    nextIndex = 0;
                    e.preventDefault();
                } else if (e.key === 'End') {
                    nextIndex = tabCount - 1;
                    e.preventDefault();
                }
                
                if (nextIndex !== index) {
                    const tabs = ['itinerary', 'transportation', 'budget'];
                    setActiveTab(tabs[nextIndex]);
                    setTimeout(() => {
                        const tabBtn = document.querySelector(`[data-tab-id="${tabs[nextIndex]}"]`);
                        if (tabBtn) tabBtn.focus();
                    }, 0);
                }
            };

            const tabs = ['itinerary', 'transportation', 'budget'];
            const tabLabels = [' Itinerary', ' Transportation', ' Budget'];
            const activeTabIndex = tabs.indexOf(activeTab);

            return (
                <div className="container">
                    <div className="header">
                        <div className="hero-grid">
                            <div className="header-content">
                                <h1>Japan Adventure Itinerary</h1>
                                <p>First-Timer's Ultimate Experience</p>
                                <p className="header-narrative">September 25 - October 3, 2025  8 Days of Unforgettable Experiences</p>
                            </div>
                            <div className="header-actions">
                                <div className="summary-chips">
                                    <div className="summary-chip">
                                        <div className="summary-chip-value">294,420</div>
                                        <div className="summary-chip-label">Total for 3 People</div>
                                    </div>
                                    <div className="summary-chip">
                                        <div className="summary-chip-value">7 Nights</div>
                                        <div className="summary-chip-label">Accommodation</div>
                                    </div>
                                </div>
                                <div className="action-buttons">
                                    <div className="currency-toggle" role="group" aria-label="Currency toggle">
                                        <button
                                            role="switch"
                                            aria-pressed={currency === 'JPY'}
                                            onClick={() => handleCurrencyToggle('JPY')}
                                            className="currency-btn"
                                        >
                                             JPY
                                        </button>
                                        <button
                                            role="switch"
                                            aria-pressed={currency === 'INR'}
                                            onClick={() => handleCurrencyToggle('INR')}
                                            className="currency-btn"
                                        >
                                             INR
                                        </button>
                                    </div>
                                    <button 
                                        className="btn btn-primary pdf-btn"
                                        id="export-pdf-btn"
                                    >
                                         Export PDF
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div className="nav-container">
                        <div 
                            className="tabs" 
                            role="tablist"
                            aria-label="Content tabs"
                        >
                            {tabs.map((tab, index) => (
                                <button 
                                    key={tab}
                                    data-tab-id={tab}
                                    className={`tab ${activeTab === tab ? 'active' : ''}`}
                                    onClick={() => setActiveTab(tab)}
                                    onKeyDown={(e) => handleKeyDown(e, index, tabs.length)}
                                    role="tab"
                                    aria-selected={activeTab === tab}
                                    aria-controls={`${tab}-panel`}
                                    tabIndex={activeTab === tab ? 0 : -1}
                                >
                                    {tabLabels[index]}
                                </button>
                            ))}
                            <div 
                                className="tab-indicator"
                                style={{
                                    left: `${activeTabIndex * (100 / tabs.length)}%`,
                                    width: `${100 / tabs.length}%`
                                }}
                            />
                        </div>
                    </div>
                    
                    <div className="content">
                        {activeTab === 'itinerary' && renderItinerary()}
                        {activeTab === 'transportation' && renderTransportation()}
                        {activeTab === 'budget' && renderBudget()}
                    </div>
                    
                    <div className="footer">
                        <div className="footer-content">
                            <div className="footer-item">
                                <h4>Total Cost (3 People)</h4>
                                <div className="footer-amount">{formatPrice(calculateTotal(), 'JPY')}</div>
                                <p style={{fontSize: '0.8rem', color: '#6b7280'}}>Complete 8-day adventure</p>
                            </div>
                            <div className="footer-item">
                                <h4>Cost Per Person</h4>
                                <div className="footer-amount" style={{color: '#3b82f6'}}>{formatPrice(calculatePerPerson(), 'JPY')}</div>
                                <p style={{fontSize: '0.8rem', color: '#6b7280'}}>Individual traveler cost</p>
                            </div>
                            <div className="footer-item">
                                <h4> Accommodation</h4>
                                <div style={{fontSize: '1.2rem', color: '#10b981', marginTop: '8px', fontWeight: '700'}}>7 NIGHTS</div>
                                <p style={{fontSize: '0.8rem', color: '#6b7280'}}>Tokyo, Osaka & Hiroshima hotels</p>
                            </div>
                        </div>
                    </div>
                </div>
            );
        };
        
        ReactDOM.render(<JapanItinerary />, document.getElementById('root'));
    </script>
    
    <!-- Professional PDF Export -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const btn = document.getElementById('export-pdf-btn');
            if (btn) {
                btn.onclick = function() {
                    const { jsPDF } = window.jspdf;
                    const pdf = new jsPDF('p', 'pt', 'a4');
                    
                    // Get the container
                    const container = document.querySelector('.container');
                    if (!container) {
                        alert('Content not found');
                        return;
                    }
                    
                    // Create a temporary wrapper for better PDF formatting
                    const wrapper = document.createElement('div');
                    wrapper.style.cssText = `
                        position: absolute;
                        left: -9999px;
                        width: 700px;
                        background: white;
                        font-family: 'Inter', sans-serif;
                        color: #1e293b;
                        line-height: 1.4;
                    `;
                    
                    // Clone and clean content for PDF
                    const clone = container.cloneNode(true);
                    
                    // Remove interactive elements and adjust styles for PDF
                    const buttonsToRemove = clone.querySelectorAll('button, .header-actions');
                    buttonsToRemove.forEach(el => el.remove());
                    
                    const tabs = clone.querySelector('.tabs');
                    if (tabs) tabs.remove();
                    
                    // Show all content in PDF
                    const content = clone.querySelector('.content');
                    if (content) {
                        content.innerHTML = `
                            <div class="info-box" style="background: #f0f9ff; border: 1px solid #0ea5e9; border-left: 4px solid #0ea5e9; padding: 16px; border-radius: 8px; margin-bottom: 20px;">
                                <h4 style="color: #0c4a6e; font-weight: 600; margin-bottom: 8px;"> Complete 8-Day Japan Adventure</h4>
                                <p style="color: #075985; font-size: 14px;">Experience the perfect balance of iconic attractions with authentic cultural experiences.</p>
                            </div>
                            <div id="pdf-itinerary"></div>
                            <div id="pdf-budget" style="margin-top: 30px;"></div>
                        `;
                        
                        // Add itinerary content
                        const itineraryContainer = content.querySelector('#pdf-itinerary');
                        const budgetContainer = content.querySelector('#pdf-budget');
                        
                        // Render itinerary for PDF
                        ReactDOM.render(
                            React.createElement('div', {}, 
                                React.createElement('h2', {style: {color: '#1e293b', marginBottom: '20px'}}, 'Daily Itinerary'),
                                ...window.dayTours.map(day => 
                                    React.createElement('div', {
                                        key: day.day,
                                        style: {
                                            border: '1px solid #e2e8f0',
                                            borderRadius: '8px',
                                            marginBottom: '16px',
                                            overflow: 'hidden'
                                        }
                                    },
                                        React.createElement('div', {
                                            style: {
                                                background: '#f8fafc',
                                                padding: '16px',
                                                borderBottom: '1px solid #e2e8f0'
                                            }
                                        },
                                            React.createElement('h3', {style: {margin: '0 0 8px 0', color: '#1e293b'}}, 
                                                `Day ${day.day}: ${day.description}`),
                                            React.createElement('p', {style: {margin: '0', fontSize: '14px', color: '#64748b'}}, 
                                                `${day.date}  ${day.area}`)
                                        ),
                                        React.createElement('div', {style: {padding: '16px'}},
                                            ...day.activities.map((activity, idx) => 
                                                React.createElement('div', {
                                                    key: idx,
                                                    style: {fontSize: '14px', marginBottom: '8px', color: '#475569'}
                                                }, ` ${activity}`)
                                            )
                                        )
                                    )
                                )
                            ),
                            itineraryContainer
                        );
                        
                        // Add budget summary
                        budgetContainer.innerHTML = `
                            <h2 style="color: #1e293b; margin-bottom: 20px;">Budget Summary</h2>
                            <div style="background: #3b82f6; color: white; padding: 20px; border-radius: 8px; text-align: center; margin-bottom: 16px;">
                                <h3 style="margin: 0 0 8px 0;">Total for 3 People</h3>
                                <div style="font-size: 28px; font-weight: bold;">${window.formatPrice ? window.formatPrice(window.calculateTotal(), 'JPY') : '294,420'}</div>
                            </div>
                            <div style="background: #f8fafc; padding: 16px; border-radius: 8px; border: 1px solid #e2e8f0;">
                                <h4 style="margin: 0 0 12px 0; color: #1e293b;">What's Included:</h4>
                                <ul style="margin: 0; padding-left: 20px; color: #475569; font-size: 14px; line-height: 1.6;">
                                    <li>All transportation (Shinkansen, local trains)</li>
                                    <li>All attraction entrance fees</li>
                                    <li>Mount Fuji private car transport</li>
                                    <li>Accommodation covered by host</li>
                                </ul>
                            </div>
                        `;
                    }
                    
                    wrapper.appendChild(clone);
                    document.body.appendChild(wrapper);
                    
                    // Use html2canvas alternative - convert to text-based PDF
                    setTimeout(() => {
                        try {
                            // Set up PDF margins and content
                            const pageWidth = pdf.internal.pageSize.getWidth();
                            const pageHeight = pdf.internal.pageSize.getHeight();
                            const margin = 40;
                            const contentWidth = pageWidth - (margin * 2);
                            let yPosition = margin;
                            
                            // Add title
                            pdf.setFontSize(24);
                            pdf.setFont(undefined, 'bold');
                            pdf.text('Japan Adventure Itinerary', margin, yPosition);
                            yPosition += 30;
                            
                            pdf.setFontSize(12);
                            pdf.setFont(undefined, 'normal');
                            pdf.text('First-Timer\'s Ultimate Experience  September 25 - October 3, 2025', margin, yPosition);
                            yPosition += 40;
                            
                            // Add daily itinerary
                            const days = [
                                {day: 1, title: 'Tokyo Arrival & Cultural Introduction', date: 'Sep 25', area: 'Tokyo', cost: '13,000'},
                                {day: 2, title: 'Tokyo Skytree & Modern Culture', date: 'Sep 26', area: 'Tokyo', cost: '12,500'},
                                {day: 3, title: 'Tokyo Disneyland Magic', date: 'Sep 27', area: 'Tokyo Disney', cost: '19,000'},
                                {day: 4, title: 'Mount Fuji Adventure Day', date: 'Sep 28', area: 'Mount Fuji', cost: '25,000*'},
                                {day: 5, title: 'Osaka Castle & Universal Studios', date: 'Sep 29', area: 'Osaka', cost: '35,000'},
                                {day: 6, title: 'Kyoto Golden Temples & Nara', date: 'Sep 30', area: 'Kyoto', cost: '20,000'},
                                {day: 7, title: 'Hiroshima Peace Memorial', date: 'Oct 1', area: 'Hiroshima', cost: '18,000'},
                                {day: 8, title: 'Tokyo Return & Departure', date: 'Oct 2-3', area: 'Tokyo', cost: '9,000'}
                            ];
                            
                            days.forEach(day => {
                                if (yPosition > pageHeight - 100) {
                                    pdf.addPage();
                                    yPosition = margin;
                                }
                                
                                pdf.setFontSize(14);
                                pdf.setFont(undefined, 'bold');
                                pdf.text(`Day ${day.day}: ${day.title}`, margin, yPosition);
                                yPosition += 20;
                                
                                pdf.setFontSize(10);
                                pdf.setFont(undefined, 'normal');
                                pdf.text(`${day.date}  ${day.area}  ${day.cost}`, margin, yPosition);
                                yPosition += 25;
                            });
                            
                            // Add budget summary on new page
                            pdf.addPage();
                            yPosition = margin;
                            
                            pdf.setFontSize(20);
                            pdf.setFont(undefined, 'bold');
                            pdf.text('Budget Summary', margin, yPosition);
                            yPosition += 40;
                            
                            pdf.setFontSize(14);
                            pdf.text('Total for 3 People: 406,500 (estimated)', margin, yPosition);
                            yPosition += 25;
                            
                            pdf.text('Cost Per Person: 135,500 (estimated)', margin, yPosition);
                            yPosition += 25;
                            
                            pdf.text('Daily Average: 16,938 per person', margin, yPosition);
                            yPosition += 40;
                            
                            pdf.setFontSize(12);
                            pdf.text('* Airport transfers and Mount Fuji are group prices', margin, yPosition);
                            yPosition += 20;
                            
                            pdf.text('Note: One night accommodation in Osaka included', margin, yPosition);
                            
                            // Save the PDF
                            pdf.save('Japan_Itinerary_Professional.pdf');
                            
                        } catch (error) {
                            console.error('PDF generation error:', error);
                            alert('PDF generation failed. Please try again.');
                        } finally {
                            // Clean up
                            document.body.removeChild(wrapper);
                        }
                    }, 100);
                };
            }
        });
    </script>
</body>
</html>