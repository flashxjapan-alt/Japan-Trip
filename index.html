<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Japan Adventure Itinerary</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
            background-attachment: fixed;
            color: #1e293b;
            line-height: 1.6;
            padding: 20px;
            min-height: 100vh;
            position: relative;
        }
        
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-image: radial-gradient(circle at 1px 1px, rgba(59,130,246,0.05) 1px, transparent 0);
            background-size: 40px 40px;
            pointer-events: none;
            z-index: -1;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-radius: 24px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.08), 0 0 0 1px rgba(255,255,255,0.1);
            overflow: hidden;
            border: 1px solid rgba(226, 232, 240, 0.5);
            position: relative;
        }
        
        .header {
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 50%, #334155 100%);
            padding: 32px;
            color: white;
            display: flex;
            align-items: center;
            justify-content: space-between;
            flex-wrap: wrap;
            gap: 24px;
            position: relative;
            overflow: hidden;
        }
        
        .header::before {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            bottom: 0;
            left: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><circle cx="20" cy="20" r="2" fill="rgba(255,255,255,0.1)"/><circle cx="80" cy="80" r="2" fill="rgba(255,255,255,0.1)"/><circle cx="40" cy="60" r="1" fill="rgba(255,255,255,0.1)"/></svg>');
            opacity: 0.3;
        }
        
        .header-content h1 {
            font-size: 2.25rem;
            font-weight: 800;
            margin: 0;
            letter-spacing: -0.025em;
            position: relative;
            z-index: 1;
        }
        
        .header-content p {
            font-size: 1rem;
            opacity: 0.95;
            margin-top: 8px;
            font-weight: 500;
            position: relative;
            z-index: 1;
        }
        
        .header-actions {
            display: flex;
            gap: 12px;
            align-items: center;
            flex-wrap: wrap;
        }
        
        .btn {
            padding: 14px 28px;
            border: none;
            border-radius: 12px;
            font-weight: 600;
            font-size: 0.875rem;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            position: relative;
            z-index: 1;
            min-height: 48px;
        }
        
        .btn-secondary {
            background: rgba(255,255,255,0.1);
            color: white;
            border: 1px solid rgba(255,255,255,0.2);
        }
        
        .btn-secondary:hover {
            background: rgba(255,255,255,0.2);
            border-color: rgba(255,255,255,0.3);
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
            color: white;
            box-shadow: 0 4px 15px rgba(59, 130, 246, 0.4);
        }
        
        .btn-primary:hover {
            background: linear-gradient(135deg, #2563eb 0%, #1d4ed8 100%);
            box-shadow: 0 6px 20px rgba(59, 130, 246, 0.6);
            transform: translateY(-2px);
        }
        
        .tabs {
            display: flex;
            background: #f8fafc;
            border-bottom: 2px solid #e2e8f0;
            overflow-x: auto;
            -webkit-overflow-scrolling: touch;
        }
        
        .tab {
            flex: 1;
            padding: 18px 24px;
            text-align: center;
            background: transparent;
            border: none;
            cursor: pointer;
            font-weight: 600;
            color: #64748b;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            border-bottom: 3px solid transparent;
            white-space: nowrap;
            min-width: fit-content;
            min-height: 48px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .tab:hover {
            background: #f1f5f9;
            color: #334155;
        }
        
        .tab.active {
            background: white;
            border-bottom-color: #3b82f6;
            color: #3b82f6;
            box-shadow: 0 2px 8px rgba(59, 130, 246, 0.15);
        }
        
        .content {
            padding: 24px;
        }
        
        .timeline-container {
            position: relative;
            padding-left: 110px;
            margin-top: 24px;
        }
        
        .timeline-container .timeline-spine {
            position: absolute;
            top: 0;
            bottom: 0;
            left: 55px;
            width: 2px;
            border-radius: 999px;
            background: linear-gradient(180deg, rgba(59,130,246,0.4), rgba(147,51,234,0.25));
            pointer-events: none;
        }
        
        .day-card {
            position: relative;
            background: white;
            border: 1px solid #e2e8f0;
            border-radius: 24px;
            margin-bottom: 32px;
            overflow: visible;
            box-shadow: 0 18px 50px rgba(15, 23, 42, 0.08);
            transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1), box-shadow 0.4s cubic-bezier(0.4, 0, 0.2, 1), border-color 0.3s ease;
            --day-accent: #3b82f6;
            --day-accent-soft: rgba(59, 130, 246, 0.12);
        }
        
        .day-card:last-child {
            margin-bottom: 0;
        }
        
        .day-card:hover {
            transform: translateY(-8px);
            border-color: rgba(59, 130, 246, 0.4);
            box-shadow: 0 32px 65px rgba(15, 23, 42, 0.15);
        }
        
        .day-card.tokyo-day { --day-accent: #2563eb; --day-accent-soft: rgba(37, 99, 235, 0.12); }
        .day-card.osaka-day { --day-accent: #f59e0b; --day-accent-soft: rgba(245, 158, 11, 0.18); }
        .day-card.kyoto-day { --day-accent: #10b981; --day-accent-soft: rgba(16, 185, 129, 0.18); }
        .day-card.hiroshima-day { --day-accent: #6366f1; --day-accent-soft: rgba(99, 102, 241, 0.18); }
        .day-card.fuji-day { --day-accent: #8b5cf6; --day-accent-soft: rgba(139, 92, 246, 0.18); }
        .day-card.disney-day { --day-accent: #ef4444; --day-accent-soft: rgba(239, 68, 68, 0.18); }
        
        .timeline-node {
            position: absolute;
            left: -78px;
            top: 30px;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--day-accent), #0f172a);
            color: #fff;
            font-weight: 700;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 15px 35px rgba(15, 23, 42, 0.2);
            border: 3px solid white;
        }
        
        .day-accordion-trigger {
            width: 100%;
            border: none;
            background: transparent;
            padding: 36px 32px 24px 32px;
            display: flex;
            gap: 24px;
            align-items: flex-start;
            text-align: left;
            cursor: pointer;
            transition: background 0.3s ease;
        }
        
        .day-accordion-trigger:hover {
            background: linear-gradient(135deg, rgba(248,250,252,0.8), rgba(241,245,249,0.8));
        }
        
        .day-accordion-trigger:focus-visible {
            outline: 3px solid rgba(59, 130, 246, 0.4);
            outline-offset: 6px;
            border-radius: 22px;
        }
        
        .day-accordion-meta {
            flex: 1;
        }
        
        .day-accordion-kicker {
            font-size: 0.85rem;
            letter-spacing: 0.08em;
            text-transform: uppercase;
            font-weight: 600;
            color: #64748b;
            margin-bottom: 8px;
        }
        
        .day-accordion-meta h3 {
            font-size: 1.8rem;
            color: #0f172a;
            margin-bottom: 12px;
            line-height: 1.35;
        }
        
        .day-accordion-submeta {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }
        
        .meta-pill {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            padding: 6px 14px;
            border-radius: 999px;
            font-size: 0.85rem;
            font-weight: 600;
            background: rgba(148, 163, 184, 0.16);
            color: #475569;
        }
        
        .day-accordion-cost {
            min-width: 210px;
            border-radius: 18px;
            padding: 20px;
            border: 1px solid rgba(226, 232, 240, 0.9);
            background: linear-gradient(160deg, rgba(15, 23, 42, 0.03), rgba(148, 163, 184, 0.1));
            display: flex;
            flex-direction: column;
            gap: 6px;
            align-items: flex-end;
            position: relative;
        }
        
        .day-accordion-cost strong {
            font-size: 1.6rem;
            color: #0f172a;
        }
        
        .day-accordion-cost span {
            font-size: 0.8rem;
            color: #475569;
        }
        
        .chevron {
            position: absolute;
            bottom: 14px;
            right: 14px;
            transition: transform 0.3s ease;
        }
        
        .chevron svg {
            width: 20px;
            height: 20px;
            stroke: #475569;
            stroke-width: 2.2;
            fill: none;
        }
        
        .chevron.expanded {
            transform: rotate(180deg);
        }
        
        .day-panel {
            padding: 0 32px 32px 32px;
            max-height: 0;
            opacity: 0;
            overflow: hidden;
            transition: max-height 0.45s ease, opacity 0.35s ease;
        }
        
        .day-panel.open {
            max-height: 1200px;
            opacity: 1;
        }
        
        .activity-list {
            list-style: none;
            margin: 0;
            padding: 24px;
            border-radius: 20px;
            border: 1px solid rgba(226, 232, 240, 0.9);
            background: rgba(248, 250, 252, 0.65);
            display: flex;
            flex-direction: column;
            gap: 12px;
        }
        
        .activity-item {
            display: flex;
            gap: 16px;
            align-items: flex-start;
            padding: 10px 6px;
        }
        
        .activity-marker {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: var(--day-accent);
            margin-top: 8px;
            box-shadow: 0 0 0 5px var(--day-accent-soft);
        }
        
        .activity-item p {
            flex: 1;
            color: #1f2937;
            font-weight: 500;
            line-height: 1.6;
        }
        
        .highlight-chips {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin: 22px 0 0;
        }
        
        .highlight-chip {
            padding: 6px 16px;
            border-radius: 999px;
            font-size: 0.8rem;
            font-weight: 600;
            border: 1px solid currentColor;
            background: rgba(255,255,255,0.65);
            box-shadow: inset 0 0 0 1px rgba(255,255,255,0.5);
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }
        
        .highlight-chip:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(15, 23, 42, 0.1);
        }
        
        .highlight-orange {
            color: #d97706;
            background: rgba(254, 243, 199, 0.6);
            border-color: rgba(245, 158, 11, 0.5);
        }
        
        .highlight-green {
            color: #16a34a;
            background: rgba(220, 252, 231, 0.65);
            border-color: rgba(34, 197, 94, 0.5);
        }
        
        .highlight-blue {
            color: #2563eb;
            background: rgba(219, 234, 254, 0.65);
            border-color: rgba(59, 130, 246, 0.5);
        }
        
        .accommodation-card {
            margin-top: 24px;
            border-radius: 20px;
            border: 1px solid rgba(226, 232, 240, 0.9);
            padding: 24px;
            background: linear-gradient(135deg, rgba(59, 130, 246, 0.05), rgba(15, 23, 42, 0.02));
            box-shadow: 0 20px 40px rgba(15, 23, 42, 0.08);
        }
        
        .accommodation-card__header {
            display: flex;
            justify-content: space-between;
            gap: 16px;
            flex-wrap: wrap;
            border-bottom: 1px solid rgba(148, 163, 184, 0.2);
            padding-bottom: 16px;
            margin-bottom: 16px;
        }
        
        .accommodation-card__label {
            font-size: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 0.08em;
            color: #64748b;
            margin-bottom: 6px;
        }
        
        .accommodation-card__header h4 {
            font-size: 1.2rem;
            margin-bottom: 4px;
            color: #0f172a;
        }
        
        .accommodation-card__header span {
            color: #475569;
            font-size: 0.9rem;
        }
        
        .accommodation-card__price {
            text-align: right;
        }
        
        .accommodation-card__price strong {
            display: block;
            font-size: 1.4rem;
            color: #0f172a;
        }
        
        .accommodation-card__price span {
            font-size: 0.8rem;
            color: #475569;
        }
        
        .accommodation-card__meta {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }
        
        .accommodation-card__features {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }
        
        .accommodation-card__features span {
            padding: 4px 10px;
            border-radius: 999px;
            background: rgba(255,255,255,0.85);
            border: 1px solid rgba(226, 232, 240, 0.9);
            font-size: 0.8rem;
            color: #1f2937;
            font-weight: 600;
        }
        
        .accommodation-card__cta {
            margin-top: 18px;
            padding: 12px 18px;
            border-radius: 12px;
            border: none;
            background: linear-gradient(135deg, var(--day-accent), #0f172a);
            color: white;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }
        
        .accommodation-card__cta:hover {
            transform: translateY(-2px);
            box-shadow: 0 12px 24px rgba(15, 23, 42, 0.25);
        }
        
        .activities {
            padding: 28px 24px;
            background: rgba(248, 250, 252, 0.3);
        }
        
        .activity {
            display: flex;
            align-items: flex-start;
            margin-bottom: 14px;
            padding: 16px;
            border-radius: 12px;
            transition: all 0.3s ease;
            background: rgba(255, 255, 255, 0.7);
            border: 1px solid rgba(226, 232, 240, 0.5);
        }
        
        .activity:hover {
            background: rgba(255, 255, 255, 0.95);
            border-color: rgba(59, 130, 246, 0.2);
            transform: translateX(4px);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);
        }
        
        .activity-bullet {
            margin-right: 16px;
            color: #3b82f6;
            font-weight: 700;
            font-size: 1.2rem;
            flex-shrink: 0;
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: #3b82f6;
            margin-top: 8px;
        }
        
        .activity-text {
            color: #334155;
            font-size: 1rem;
            line-height: 1.7;
            font-weight: 500;
            flex: 1;
        }
        
        .highlights {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 20px;
            padding: 0 24px 28px 24px;
        }
        
        .highlight-tag {
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            border: 2px solid;
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .highlight-tag:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }
        
        .highlight-orange {
            background: #fef3c7;
            color: #d97706;
            border-color: #f59e0b;
        }
        
        .highlight-green {
            background: #dcfce7;
            color: #16a34a;
            border-color: #22c55e;
        }
        
        .highlight-blue {
            background: #dbeafe;
            color: #2563eb;
            border-color: #3b82f6;
        }
        
        .info-box {
            background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
            border: 1px solid #0ea5e9;
            border-left: 4px solid #0ea5e9;
            padding: 24px;
            border-radius: 16px;
            margin-bottom: 32px;
            box-shadow: 0 4px 16px rgba(14, 165, 233, 0.1);
            position: relative;
            overflow: hidden;
        }
        
        .info-box::before {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 200px;
            height: 200px;
            background: radial-gradient(circle, rgba(59, 130, 246, 0.1) 0%, transparent 70%);
            border-radius: 50%;
            transform: translate(50%, -50%);
        }
        
        .info-box h4 {
            color: #0c4a6e;
            font-weight: 700;
            font-size: 1.1rem;
            margin-bottom: 12px;
            position: relative;
            z-index: 1;
        }
        
        .info-box p, .info-box li {
            color: #075985;
            font-size: 0.95rem;
            line-height: 1.6;
            position: relative;
            z-index: 1;
        }
        
        .warning-box {
            background: #fffbeb;
            border: 1px solid #f59e0b;
            border-left: 4px solid #f59e0b;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 24px;
        }
        
        .warning-box h4 {
            color: #92400e;
            font-weight: 600;
            margin-bottom: 8px;
        }
        
        .warning-box p {
            color: #a16207;
            font-size: 0.9rem;
            line-height: 1.5;
        }
        
        .itinerary-banner {
            border-radius: 28px;
            padding: 32px;
            background: linear-gradient(130deg, #0f172a 0%, #1d4ed8 50%, #7c3aed 100%);
            color: #e2e8f0;
            margin-bottom: 28px;
            box-shadow: 0 40px 90px rgba(15, 23, 42, 0.35);
            border: 1px solid rgba(148, 163, 184, 0.35);
            position: relative;
            overflow: hidden;
        }
        
        .itinerary-banner::after {
            content: '';
            position: absolute;
            inset: 0;
            background: radial-gradient(circle at 80% 20%, rgba(255,255,255,0.2), transparent 35%);
            pointer-events: none;
        }
        
        .banner-kicker {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            font-size: 0.85rem;
            letter-spacing: 0.1em;
            text-transform: uppercase;
            font-weight: 600;
            color: rgba(226, 232, 240, 0.85);
            margin-bottom: 12px;
            position: relative;
            z-index: 1;
        }
        
        .banner-kicker.muted {
            color: #475569;
        }
        
        .pulse-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: #fbbf24;
            position: relative;
        }
        
        .pulse-dot::after {
            content: '';
            position: absolute;
            inset: -4px;
            border-radius: 50%;
            border: 1px solid rgba(251, 191, 36, 0.6);
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% {
                transform: scale(0.8);
                opacity: 1;
            }
            100% {
                transform: scale(1.6);
                opacity: 0;
            }
        }
        
        .itinerary-banner h2 {
            font-size: 2rem;
            line-height: 1.3;
            font-weight: 700;
            margin-bottom: 12px;
            position: relative;
            z-index: 1;
        }
        
        .itinerary-banner p {
            max-width: 720px;
            color: rgba(226, 232, 240, 0.9);
            font-size: 1rem;
            line-height: 1.6;
            margin-bottom: 20px;
            position: relative;
            z-index: 1;
        }
        
        .info-banner__chips {
            display: flex;
            flex-wrap: wrap;
            gap: 14px;
            position: relative;
            z-index: 1;
        }
        
        .stat-chip {
            padding: 14px 18px;
            border-radius: 16px;
            background: rgba(15, 23, 42, 0.35);
            border: 1px solid rgba(226, 232, 240, 0.25);
            min-width: 180px;
            color: white;
            box-shadow: 0 12px 25px rgba(15, 23, 42, 0.25);
        }
        
        .stat-chip strong {
            display: block;
            font-size: 1rem;
            margin-bottom: 4px;
        }
        
        .stat-chip span {
            font-size: 0.8rem;
            color: rgba(226, 232, 240, 0.8);
        }
        
        .route-overview {
            border-radius: 24px;
            border: 1px solid rgba(226, 232, 240, 0.9);
            padding: 28px;
            background: linear-gradient(135deg, rgba(255,255,255,0.95), rgba(248,250,252,0.95));
            margin-bottom: 28px;
            box-shadow: 0 20px 45px rgba(15, 23, 42, 0.08);
        }
        
        .route-overview__header {
            display: flex;
            flex-wrap: wrap;
            gap: 24px;
            justify-content: space-between;
            align-items: flex-start;
        }
        
        .route-overview__header h3 {
            font-size: 1.5rem;
            color: #0f172a;
            margin-bottom: 8px;
        }
        
        .route-overview__header p {
            color: #475569;
            max-width: 560px;
        }
        
        .route-overview__chips {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
        }
        
        .route-overview__chips .stat-chip {
            background: rgba(15, 23, 42, 0.04);
            color: #0f172a;
            box-shadow: none;
            border-color: rgba(226, 232, 240, 0.8);
        }
        
        .route-overview__chips .stat-chip span {
            color: #475569;
        }
        
        .route-overview__path {
            margin-top: 28px;
            border-radius: 18px;
            border: 1px dashed rgba(148, 163, 184, 0.5);
            padding: 16px;
            display: flex;
            flex-wrap: wrap;
            gap: 16px;
            align-items: center;
            justify-content: space-between;
        }
        
        .route-stop {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 10px 14px;
            border-radius: 14px;
            background: rgba(248, 250, 252, 0.9);
            border: 1px solid rgba(226, 232, 240, 0.9);
            min-width: 170px;
            flex: 1;
        }
        
        .route-stop__icon {
            width: 48px;
            height: 48px;
            border-radius: 14px;
            background: rgba(59, 130, 246, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
        }
        
        .route-stop__meta strong {
            display: block;
            font-size: 1rem;
            color: #0f172a;
        }
        
        .route-stop__meta span {
            font-size: 0.85rem;
            color: #475569;
        }
        
        .route-arrow {
            font-size: 1.4rem;
            color: #94a3b8;
        }
        
        .transport-card {
            background: #f8fafc;
            border: 1px solid #e2e8f0;
            border-radius: 12px;
            padding: 24px;
            margin-bottom: 20px;
        }
        
        .transport-header {
            display: grid;
            grid-template-columns: auto 1fr auto;
            align-items: center;
            gap: 20px;
            margin-bottom: 16px;
        }
        
        .transport-icon {
            width: 48px;
            height: 48px;
            background: #3b82f6;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
        }
        
        .budget-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .budget-card {
            padding: 24px;
            border-radius: 12px;
            text-align: center;
            color: white;
        }
        
        .budget-primary {
            background: #3b82f6;
        }
        
        .budget-green {
            background: #16a34a;
        }
        
        .budget-blue {
            background: #0ea5e9;
        }
        
        .budget-amount {
            font-size: 2rem;
            font-weight: 700;
            margin: 8px 0;
        }
        
        .footer {
            background: #f8fafc;
            padding: 24px 32px;
            border-top: 1px solid #e2e8f0;
        }
        
        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            text-align: center;
        }
        
        .footer-item h4 {
            color: #64748b;
            font-size: 0.875rem;
            margin-bottom: 4px;
        }
        
        .footer-amount {
            font-size: 1.5rem;
            font-weight: 700;
            color: #1e293b;
        }
        
        /* Compact, Professional Accommodation Cards */
        .accommodation-card {
            background: linear-gradient(135deg, #ffffff 0%, #f8fafc 100%);
            border-radius: 16px;
            padding: 0;
            margin: 16px 0;
            color: #1e293b;
            position: relative;
            overflow: hidden;
            box-shadow: 0 4px 20px rgba(0,0,0,0.06);
            transition: all 0.3s ease;
            border: 1px solid rgba(226, 232, 240, 0.8);
            height: 160px;
        }
        
        .accommodation-card.tokyo {
            border-left: 4px solid #ec4899;
        }
        
        
        
        
        .accommodation-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 30px rgba(0,0,0,0.1);
            border-color: #3b82f6;
        }
        
        .accommodation-card.osaka {
            border-left: 4px solid #f59e0b;
        }
        
        
        .accommodation-card.hiroshima {
            border-left: 6px solid #6366f1;
        }
        
        .accommodation-card.hiroshima .accommodation-badge {
            background: linear-gradient(135deg, #6366f1 0%, #4f46e5 100%);
        }
        
        .accommodation-content {
            position: relative;
            padding: 20px;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }
        
        .accommodation-badge {
            display: inline-block;
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            color: white;
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 0.65rem;
            font-weight: 600;
            box-shadow: 0 2px 8px rgba(16, 185, 129, 0.2);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            width: fit-content;
            margin-bottom: 8px;
        }
        
        @keyframes pulse-badge {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        
        .accommodation-top {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: auto;
        }
        
        .accommodation-location {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.8rem;
            opacity: 0.95;
            margin-top: 8px;
        }
        
        .accommodation-bottom {
            margin-top: auto;
        }
        
        .accommodation-name {
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 6px;
            line-height: 1.3;
            color: #0f172a;
            padding-right: 90px;
        }
        
        .accommodation-type {
            font-size: 0.9rem;
            color: #64748b;
            margin-bottom: 16px;
            font-weight: 500;
        }
        
        .accommodation-rating {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 16px;
        }
        
        .accommodation-stars {
            color: #f59e0b;
            font-size: 1.1rem;
        }
        
        .accommodation-features {
            display: flex;
            flex-wrap: wrap;
            gap: 6px;
            margin: 12px 0;
        }
        
        .feature-tag {
            background: rgba(59, 130, 246, 0.1);
            border: 1px solid rgba(59, 130, 246, 0.2);
            color: #3b82f6;
            padding: 6px 12px;
            border-radius: 16px;
            font-size: 0.7rem;
            font-weight: 600;
        }
        
        .accommodation-book-btn {
            background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
            color: white;
            border: none;
            padding: 14px 24px;
            border-radius: 12px;
            font-weight: 600;
            font-size: 0.85rem;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 4px 16px rgba(59, 130, 246, 0.3);
            width: 100%;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            position: relative;
            overflow: hidden;
        }
        
        .accommodation-book-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
            transition: left 0.6s ease;
        }
        
        .accommodation-book-btn:hover::before {
            left: 100%;
        }
        
        .accommodation-book-btn:hover {
            background: rgba(255, 255, 255, 1);
            box-shadow: 0 6px 20px rgba(0,0,0,0.3);
            transform: translateY(-2px);
        }
        
        .accommodation-book-btn:active {
            transform: translateY(-1px) scale(0.98);
            box-shadow: 0 4px 15px rgba(59, 130, 246, 0.6);
        }
        
        .accommodation-price {
            position: absolute;
            top: 16px;
            right: 16px;
            text-align: right;
            background: rgba(255, 255, 255, 0.95);
            padding: 8px 12px;
            border-radius: 10px;
            border: 1px solid rgba(226, 232, 240, 0.6);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);
        }
        
        .accommodation-price-amount {
            font-size: 1.1rem;
            font-weight: 700;
            color: #0f172a;
            line-height: 1.2;
        }
        
        .accommodation-price-unit {
            font-size: 0.75rem;
            color: #64748b;
            font-weight: 500;
        }
        
        /* Floating Elements Animation */
        .floating-elements {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            pointer-events: none;
            overflow: hidden;
        }
        
        .floating-element {
            position: absolute;
            opacity: 0.1;
            animation: float 6s ease-in-out infinite;
        }
        
        .floating-element:nth-child(1) { animation-delay: 0s; top: 10%; left: 10%; }
        .floating-element:nth-child(2) { animation-delay: 2s; top: 20%; right: 15%; }
        .floating-element:nth-child(3) { animation-delay: 4s; bottom: 15%; left: 20%; }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(180deg); }
        }
        
        /* Enhanced Day Card with Glassmorphism */
        .day-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 16px;
            margin-bottom: 20px;
            overflow: hidden;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
            position: relative;
        }

        /* Route Map Visual */
        .route-map {
            background: linear-gradient(135deg, #ffffff 0%, #f8fafc 100%);
            padding: 32px;
            border-radius: 20px;
            margin: 32px 0;
            border: 1px solid rgba(226, 232, 240, 0.8);
            position: relative;
            overflow: hidden;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.06);
        }

        .route-path {
            display: flex;
            align-items: center;
            justify-content: space-between;
            flex-wrap: wrap;
            gap: 16px;
            position: relative;
            z-index: 2;
        }

        .route-city {
            background: linear-gradient(135deg, #ffffff 0%, #f8fafc 100%);
            border: 2px solid #e2e8f0;
            border-radius: 20px;
            padding: 16px 24px;
            font-weight: 600;
            color: #1e293b;
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.06);
            position: relative;
            min-width: 140px;
            text-align: center;
            transition: all 0.3s ease;
        }
        
        .route-city:hover {
            border-color: #3b82f6;
            transform: translateY(-2px);
            box-shadow: 0 6px 24px rgba(59, 130, 246, 0.15);
        }

        .route-city.current {
            background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
            border-color: #3b82f6;
            color: white;
            box-shadow: 0 6px 24px rgba(59, 130, 246, 0.3);
        }

        .route-arrow {
            font-size: 1.5rem;
            color: #3b82f6;
            animation: bounce 2s infinite;
        }

        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% { transform: translateX(0); }
            40% { transform: translateX(-5px); }
            60% { transform: translateX(5px); }
        }

        .city-icon {
            background: rgba(59, 130, 246, 0.1);
            border-radius: 50%;
            width: 48px;
            height: 48px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 12px auto;
            font-size: 1.4rem;
            transition: all 0.3s ease;
        }
        
        .route-city.current .city-icon {
            background: rgba(255, 255, 255, 0.2);
        }
        
        /* Clean, Professional Header */
        .header {
            background: linear-gradient(135deg, #1e293b 0%, #334155 50%, #475569 100%);
            position: relative;
            overflow: hidden;
        }
        
        .header::before {
            animation: headerPulse 8s ease-in-out infinite;
        }
        
        /* Clean, Professional Day Cards */
        .day-card {
            background: linear-gradient(135deg, #ffffff 0%, #f8fafc 100%);
            border: 1px solid rgba(226, 232, 240, 0.8);
            border-radius: 20px;
            margin-bottom: 24px;
            overflow: hidden;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.06);
            position: relative;
        }
        
        .day-card:hover {
            border-color: #3b82f6;
            box-shadow: 0 8px 40px rgba(59, 130, 246, 0.15);
            transform: translateY(-4px);
        }
        
        /* Location-specific accent colors */
        .tokyo-day {
            border-left: 6px solid #ec4899;
        }
        
        .tokyo-day:hover {
            border-color: #ec4899;
            box-shadow: 0 8px 40px rgba(236, 72, 153, 0.15);
        }
        
        .osaka-day {
            border-left: 6px solid #f59e0b;
        }
        
        .osaka-day:hover {
            border-color: #f59e0b;
            box-shadow: 0 8px 40px rgba(245, 158, 11, 0.15);
        }
        
        .kyoto-day {
            border-left: 6px solid #10b981;
        }
        
        .kyoto-day:hover {
            border-color: #10b981;
            box-shadow: 0 8px 40px rgba(16, 185, 129, 0.15);
        }
        
        .hiroshima-day {
            border-left: 6px solid #6366f1;
        }
        
        .hiroshima-day:hover {
            border-color: #6366f1;
            box-shadow: 0 8px 40px rgba(99, 102, 241, 0.15);
        }
        
        .fuji-day {
            border-left: 6px solid #8b5cf6;
        }
        
        .fuji-day:hover {
            border-color: #8b5cf6;
            box-shadow: 0 8px 40px rgba(139, 92, 246, 0.15);
        }
        
        .disney-day {
            border-left: 6px solid #ef4444;
        }
        
        .disney-day:hover {
            border-color: #ef4444;
            box-shadow: 0 8px 40px rgba(239, 68, 68, 0.15);
        }
        
        @keyframes headerPulse {
            0%, 100% { opacity: 0.3; }
            50% { opacity: 0.5; }
        }
        
        /* Subtle Professional Animations */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .day-card {
            animation: fadeInUp 0.6s ease-out;
        }
        
        .day-card:nth-child(2) { animation-delay: 0.1s; }
        .day-card:nth-child(3) { animation-delay: 0.2s; }
        .day-card:nth-child(4) { animation-delay: 0.3s; }
        .day-card:nth-child(5) { animation-delay: 0.4s; }
        .day-card:nth-child(6) { animation-delay: 0.5s; }
        .day-card:nth-child(7) { animation-delay: 0.6s; }
        .day-card:nth-child(8) { animation-delay: 0.7s; }
        .day-card:nth-child(9) { animation-delay: 0.8s; }
        
        @media (max-width: 768px) {
            body {
                padding: 12px;
                background: #f8fafc;
            }
            
            .container {
                border-radius: 16px;
                box-shadow: 0 8px 32px rgba(0,0,0,0.12);
                margin: 0 auto;
                background: white;
                border: 1px solid #e2e8f0;
                overflow: hidden;
                max-width: 100%;
            }
            
            .header {
                padding: 32px 24px;
                flex-direction: column;
                text-align: center;
                gap: 20px;
                background: linear-gradient(135deg, #1e293b 0%, #334155 100%);
                position: relative;
            }
            
            .header-content h1 {
                font-size: 1.75rem;
                line-height: 1.2;
                color: white;
                font-weight: 700;
                margin: 0;
            }
            
            .header-content p {
                font-size: 0.95rem;
                opacity: 0.9;
                color: white;
                margin: 0;
            }
            
            .header-actions {
                width: 100%;
                justify-content: center;
                gap: 12px;
            }
            
            .btn {
                padding: 16px 24px;
                font-size: 0.875rem;
                min-height: 48px;
                flex: 1;
                max-width: 160px;
                border-radius: 12px;
                font-weight: 600;
            }
            
            .btn-secondary {
                background: rgba(255,255,255,0.1);
                border: 1px solid rgba(255,255,255,0.2);
                color: white;
            }
            
            .btn-secondary:hover {
                background: rgba(255,255,255,0.2);
            }
            
            .btn-primary {
                background: #3b82f6;
                color: white;
                border: none;
                box-shadow: 0 4px 15px rgba(59,130,246,0.4);
            }
            
            .btn-primary:hover {
                background: #2563eb;
            }
            
            .tabs {
                overflow-x: auto;
                -webkit-overflow-scrolling: touch;
                scrollbar-width: none;
                -ms-overflow-style: none;
                background: #f8fafc;
                border-bottom: 1px solid #e2e8f0;
            }
            
            .tabs::-webkit-scrollbar {
                display: none;
            }
            
            .tab {
                min-width: 120px;
                padding: 16px 20px;
                font-size: 0.875rem;
                font-weight: 600;
                background: transparent;
                border: none;
                cursor: pointer;
                color: #64748b;
                transition: all 0.2s ease;
                border-bottom: 3px solid transparent;
                white-space: nowrap;
            }
            
            .tab:hover {
                background: #f1f5f9;
                color: #334155;
            }
            
            .tab.active {
                background: white;
                border-bottom-color: #3b82f6;
                color: #3b82f6;
                box-shadow: 0 2px 8px rgba(59,130,246,0.15);
            }
            
            .content {
                padding: 20px 16px;
                background: transparent;
            }
            
            .timeline-container {
                padding-left: 20px;
            }
            
            .timeline-container .timeline-spine {
                left: 10px;
            }
            
            .timeline-node {
                left: -15px;
                width: 40px;
                height: 40px;
                font-size: 1rem;
            }
            
            .itinerary-banner {
                padding: 20px;
                border-radius: 16px;
            }
            
            .itinerary-banner h2 {
                font-size: 1.4rem;
            }
            
            .info-banner__chips {
                gap: 10px;
            }
            
            .stat-chip {
                min-width: auto;
                flex: 1;
                padding: 12px 14px;
            }
            
            .route-overview {
                padding: 20px;
                border-radius: 16px;
            }
            
            .route-overview__header {
                flex-direction: column;
            }
            
            .route-overview__header h3 {
                font-size: 1.2rem;
            }
            
            .route-overview__chips {
                flex-direction: column;
                width: 100%;
            }
            
            .route-overview__chips .stat-chip {
                width: 100%;
            }
            
            .route-overview__path {
                flex-direction: column;
                gap: 12px;
            }
            
            .route-stop {
                width: 100%;
                min-width: auto;
            }
            
            .route-arrow {
                transform: rotate(90deg);
                font-size: 1.2rem;
            }
            
            .day-card {
                margin-bottom: 20px;
                border-radius: 16px;
                background: white;
                border: 1px solid #e2e8f0;
                box-shadow: 0 4px 12px rgba(0,0,0,0.08);
                overflow: visible;
            }
            
            .day-accordion-trigger {
                padding: 20px 16px;
                flex-direction: column;
                gap: 12px;
                align-items: flex-start;
            }
            
            .day-accordion-meta h3 {
                font-size: 1.2rem;
            }
            
            .day-accordion-submeta {
                flex-direction: column;
                align-items: flex-start;
            }
            
            .day-accordion-cost {
                width: 100%;
                align-items: center;
                text-align: center;
            }
            
            .day-panel {
                padding: 0 16px 20px 16px;
            }
            
            .activity-list {
                padding: 16px;
            }
            
            .highlight-chips {
                gap: 8px;
            }
            
            .accommodation-card {
                margin-top: 16px;
                padding: 16px;
            }
            
            .accommodation-card__header {
                flex-direction: column;
            }
            
            .accommodation-card__price {
                text-align: left;
            }
            


            
            .budget-grid {
                grid-template-columns: 1fr;
                gap: 12px;
                margin: 16px 0;
            }
            
            .budget-card {
                padding: 16px;
                border-radius: 12px;
                text-align: center;
                color: white;
                box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            }
            
            .budget-card h4 {
                font-size: 0.9rem;
                margin-bottom: 8px;
                font-weight: 600;
            }
            
            .budget-card p {
                font-size: 0.7rem;
                margin-top: 4px;
                opacity: 0.9;
            }
            
            .budget-primary {
                background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
            }
            
            .budget-green {
                background: linear-gradient(135deg, #16a34a 0%, #15803d 100%);
            }
            
            .budget-blue {
                background: linear-gradient(135deg, #0ea5e9 0%, #0284c7 100%);
            }
            
            .budget-amount {
                font-size: 1.4rem;
                font-weight: 700;
                margin: 6px 0;
            }
            
            .transport-card {
                padding: 16px;
            }
            
            .footer {
                padding: 20px 16px;
                background: #f8fafc;
                border-top: 1px solid #e2e8f0;
            }
            
            .footer-content {
                display: grid;
                grid-template-columns: 1fr;
                gap: 12px;
                text-align: center;
            }
            
            .footer-item {
                background: white;
                padding: 12px;
                border-radius: 10px;
                border: 1px solid #e2e8f0;
                box-shadow: 0 1px 4px rgba(0,0,0,0.05);
            }
            
            .footer-item h4 {
                color: #64748b;
                font-size: 0.8rem;
                margin-bottom: 6px;
                font-weight: 600;
            }
            
            .footer-amount {
                font-size: 1.2rem;
                font-weight: 700;
                color: #1e293b;
            }
            
            .info-box, .warning-box {
                padding: 16px;
                margin-bottom: 16px;
                border-radius: 8px;
                background: #f0f9ff;
                border: 1px solid #0ea5e9;
                border-left: 4px solid #0ea5e9;
            }
            
            .warning-box {
                background: #fffbeb;
                border-color: #f59e0b;
                border-left-color: #f59e0b;
            }
            
            .accommodation-card {
                margin: 12px 0;
                height: 100px;
                border-radius: 12px;
                background: linear-gradient(135deg, #ffffff 0%, #f8fafc 100%);
                box-shadow: 0 2px 8px rgba(0,0,0,0.06);
                border: 1px solid rgba(226, 232, 240, 0.8);
                position: relative;
                overflow: hidden;
            }
            
            .accommodation-content {
                padding: 12px;
                height: 100%;
                display: flex;
                flex-direction: column;
                justify-content: space-between;
            }
            
            .accommodation-name {
                font-size: 0.85rem;
                margin-bottom: 2px;
                font-weight: 600;
                color: #0f172a;
                padding-right: 65px;
                line-height: 1.2;
            }
            
            .accommodation-type {
                font-size: 0.6rem;
                color: #64748b;
                margin-bottom: 4px;
            }
            
            .accommodation-price {
                top: 12px;
                right: 12px;
                background: rgba(255,255,255,0.95);
                border-radius: 8px;
                padding: 6px 10px;
                box-shadow: 0 2px 6px rgba(0,0,0,0.04);
                border: 1px solid rgba(226, 232, 240, 0.6);
            }
            
            .accommodation-price-amount {
                font-size: 0.95rem;
                font-weight: 700;
                color: #1e293b;
                line-height: 1.2;
            }
            
            .accommodation-price-unit {
                font-size: 0.65rem;
                color: #64748b;
                opacity: 0.8;
            }
            
            .accommodation-features {
                margin: 8px 0;
                gap: 4px;
            }
            
            .feature-tag {
                padding: 2px 6px;
                font-size: 0.55rem;
                border-radius: 8px;
            }
            
            .accommodation-book-btn {
                padding: 8px 14px;
                font-size: 0.7rem;
                border-radius: 8px;
                background: rgba(255,255,255,0.9);
                box-shadow: 0 4px 15px rgba(0,0,0,0.2);
                font-weight: 600;
                color: #1e293b;
                border: none;
                cursor: pointer;
                transition: all 0.3s ease;
                width: 100%;
            }
            
            .accommodation-book-btn:hover {
                background: rgba(255,255,255,1);
                transform: translateY(-1px);
                box-shadow: 0 6px 20px rgba(0,0,0,0.25);
            }
            
            .route-map {
                padding: 16px;
                margin: 16px 0;
                background: linear-gradient(135deg, #ffffff 0%, #f8fafc 100%);
                border-radius: 12px;
                border: 1px solid rgba(226, 232, 240, 0.8);
            }
            
            .route-map h4 {
                font-size: 0.95rem;
                margin-bottom: 12px;
                text-align: center;
                color: #1e293b;
            }
            
            .route-path {
                display: grid;
                grid-template-columns: 1fr auto 1fr auto 1fr auto 1fr;
                align-items: center;
                gap: 8px;
                justify-items: center;
            }
            
            .route-city {
                padding: 8px 10px;
                font-size: 0.65rem;
                text-align: center;
                border-radius: 8px;
                font-weight: 600;
                background: white;
                border: 1px solid rgba(226, 232, 240, 0.8);
                min-width: 50px;
            }
            
            .route-city .city-icon {
                font-size: 1.2rem;
                margin-bottom: 2px;
                display: block;
            }
            
            .route-arrow {
                font-size: 0.8rem;
                color: #64748b;
                transform: none;
            }
            
            /* Touch targets */
            button, .tab, .accommodation-card__cta {
                min-height: 44px;
                min-width: 44px;
                touch-action: manipulation;
            }
            
            .tab {
                padding: 12px 16px;
                font-size: 0.9rem;
            }
            
            .action-button {
                padding: 12px 20px;
                font-size: 0.9rem;
                border-radius: 8px;
            }
        }
        
        /* Extra small devices (320px to 480px) */
        @media (max-width: 480px) {
            body {
                padding: 0;
                font-size: 14px;
            }
            
            .container {
                border-radius: 0;
                max-width: 100%;
            }
            
            .header {
                padding: 20px 16px;
                border-radius: 0;
            }
            
            .header-content h1 {
                font-size: 1.4rem;
                line-height: 1.2;
                margin-bottom: 6px;
                text-align: center;
            }
            
            .header-content p {
                font-size: 0.75rem;
                line-height: 1.3;
                text-align: center;
                opacity: 0.9;
            }
            
            .content {
                padding: 12px 8px;
            }
            
            .day-card {
                margin-bottom: 14px;
                border-radius: 12px;
            }
            
            .timeline-node {
                width: 34px;
                height: 34px;
                left: -4px;
                font-size: 0.95rem;
            }
            
            .day-accordion-trigger {
                padding: 16px 12px;
            }
            
            .day-accordion-meta h3 {
                font-size: 1rem;
            }
            
            .accommodation-card {
                margin: 10px 0;
                padding: 14px;
            }
            
            .tabs {
                padding: 8px;
                gap: 6px;
            }
            
            .tab {
                padding: 10px 12px;
                font-size: 0.8rem;
            }
        }
        
        /* Ultra small devices (320px and below) */
        @media (max-width: 375px) {
            .header-content h1 {
                font-size: 1.2rem;
                margin-bottom: 4px;
            }
            
            .timeline-node {
                width: 32px;
                height: 32px;
                left: -2px;
                font-size: 0.9rem;
            }
            
            .timeline-container {
                padding-left: 16px;
            }
            
            .route-stop {
                padding: 8px 10px;
            }
            
            .route-stop__icon {
                width: 36px;
                height: 36px;
                font-size: 1.2rem;
            }
            
            .itinerary-banner {
                padding: 16px;
                border-radius: 12px;
            }
            
            .itinerary-banner h2 {
                font-size: 1.2rem;
            }
            
            .budget-amount, .footer-amount {
                font-size: 1.1rem;
            }
            
            .day-accordion-trigger {
                padding: 14px 10px;
            }
            
            .day-accordion-meta h3 {
                font-size: 0.95rem;
            }
            
            .activity-list {
                padding: 12px;
            }
            
            .activity-item {
                padding: 6px 4px;
            }
            
            .activity-item p {
                font-size: 0.85rem;
            }
            
            .highlight-chips {
                gap: 6px;
            }
            
            .highlight-chip {
                font-size: 0.7rem;
                padding: 4px 8px;
            }
            
            .btn {
                font-size: 0.8rem;
                padding: 16px 20px;
                border-radius: 14px;
            }
            
            .accommodation-card {
                border-radius: 14px;
                margin: 14px 0;
                padding: 12px;
            }
            
            .accommodation-card__cta {
                padding: 10px 14px;
                font-size: 0.8rem;
                border-radius: 10px;
            }
            
            .budget-card {
                padding: 20px;
                border-radius: 16px;
            }
            
            .footer {
                padding: 24px 16px;
            }
            
            .footer-item {
                padding: 16px;
                border-radius: 12px;
            }
            
            /* Simple touch feedback for mobile */
            .btn:active {
                opacity: 0.8;
            }
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState } = React;
        
        const JapanItinerary = () => {
            const [currency, setCurrency] = useState('JPY');
            const [activeTab, setActiveTab] = useState('itinerary');
            const [expandedDays, setExpandedDays] = useState({});
            
            const toggleExpanded = (dayIndex) => {
                setExpandedDays(prev => ({
                    ...prev,
                    [dayIndex]: !prev[dayIndex]
                }));
            };
            
            const rates = {
                JPY_INR: 0.56,
                INR_JPY: 1.79
            };
            
            const convertCurrency = (amount, from, to) => {
                if (from === to) return amount;
                if (from === 'JPY' && to === 'INR') return amount * rates.JPY_INR;
                if (from === 'INR' && to === 'JPY') return amount * rates.INR_JPY;
                return amount;
            };
            
            const formatPrice = (amount, origCurrency) => {
                if (currency === origCurrency) {
                    if (currency === 'JPY') return `${amount.toLocaleString('en-JP')}`;
                    if (currency === 'INR') return `${amount.toLocaleString('en-IN')}`;
                }
                
                const converted = Math.round(convertCurrency(amount, origCurrency, currency));
                
                if (currency === 'JPY') return `${converted.toLocaleString('en-JP')}`;
                if (currency === 'INR') return `${converted.toLocaleString('en-IN')}`;
                
                return `${converted}`;
            };
            
            const dayTours = [
                {
                    day: 1,
                    date: 'September 25, 2025',
                    area: 'Tokyo',
                    description: 'Tokyo Arrival & Evening Introduction',
                    activities: [
                        ' Flight arrival at 20:30 (8:30 PM)',
                        ' Private car pickup from airport (15,000 group)',
                        ' Transfer time: 60-90 minutes to accommodation',
                        ' Check-in and settle at accommodation',
                        ' Late evening convenience store exploration (if energy permits)',
                        ' Light dinner or snacks near accommodation'
                    ],
                    price: 13000,
                    groupPrice: true,
                    highlights: ['Arrival Day', 'Private Transfer', 'Late Evening'],
                    accommodation: {
                        name: 'APA Hotel Shibuya Dogenzaka',
                        type: 'Budget Business Hotel',
                        rating: 4.1,
                        price: 7000,
                        features: ['Shibuya Location', 'Free WiFi', 'Large LCD TV']
                    }
                },
                {
                    day: 2,
                    date: 'September 26, 2025',
                    area: 'Tokyo',
                    description: 'Tokyo Skytree & Modern Culture',
                    activities: [
                        ' Early start: Depart accommodation at 9:00 AM',
                        ' Metro to Tokyo Skytree (30 min, 300)',
                        ' Tokyo Skytree Tembo Deck + Galleria (8,500 per person)',
                        ' Tokyo Solamachi shopping complex exploration',
                        ' Metro to Shibuya (45 min, 200)',
                        ' Shibuya Crossing - World\'s busiest intersection (Free)',
                        ' Walk to Harajuku (15 min)',
                        ' Harajuku Youth Culture - Takeshita Street (Free)',
                        ' Authentic Ramen dinner + return transport (400)'
                    ],
                    price: 12500,
                    highlights: ['Tokyo Skytree', 'Solamachi', 'Modern Tokyo', 'Youth Culture']
                },
                {
                    day: 3,
                    date: 'September 27, 2025',
                    area: 'Tokyo Disney',
                    description: 'Tokyo Disneyland Magic',
                    activities: [
                        ' Early departure: 8:00 AM from accommodation',
                        ' JR Keiyo Line to Maihama Station (45 min, 220)',
                        ' Walk to Tokyo Disneyland (5 min)',
                        ' Disney 1-Day Pass (14,000 per person)',
                        ' Beauty & The Beast - New flagship attraction',
                        ' Space Mountain + Pirates of the Caribbean',
                        ' Haunted Mansion with seasonal themes',
                        ' Disney Parade & Evening Fireworks',
                        ' Return via JR Keiyo Line (220)'
                    ],
                    price: 19000,
                    highlights: ['Disney Magic', 'New Attractions', 'Full Day Experience']
                },
                {
                    day: 4,
                    date: 'September 28, 2025',
                    area: 'Mount Fuji',
                    description: 'Mount Fuji Adventure Day',
                    activities: [
                        ' Very early departure: 7:00 AM',
                        ' Private car transport to Mount Fuji region (2.5 hours)',
                        ' Chureito Pagoda - Iconic Mount Fuji photography',
                        ' Oshino Hakkai Village - Traditional village with sacred springs',
                        ' Kawaguchi Lake Region exploration & lunch',
                        ' Lake Kawaguchi scenic cruise (930 per person)',
                        ' Private car return to Tokyo (2.5 hours)',
                        ' Evening arrival back in Tokyo'
                    ],
                    price: 25000,
                    groupPrice: true,
                    highlights: ['Mount Fuji', 'Private Transport', 'Photo Spots', 'Traditional Village', 'Lake Cruise']
                },
                {
                    day: 5,
                    date: 'September 29, 2025',
                    area: 'Osaka',
                    description: 'Osaka Castle & Universal Studios',
                    activities: [
                        ' Early departure: 6:30 AM from Tokyo',
                        ' Shinkansen Hikari to Osaka (3 hours, 13,320 per person)',
                        ' Arrival Osaka Station, transfer to Osaka Castle (30 min, 240)',
                        ' Osaka Castle & Museum (5,600 per person)',
                        ' Lunch at Osaka Castle Park',
                        ' Transfer to Universal Studios Japan (45 min, 160)',
                        ' Universal Studios Japan 1-Day Pass (13,801 per person)',
                        ' Harry Potter World & Nintendo World attractions',
                        ' Return to accommodation via local transport (400)'
                    ],
                    price: 35000,
                    highlights: ['Osaka Castle', 'Universal Studios', 'Harry Potter', 'Nintendo World'],
                    accommodation: {
                        name: 'APA Hotel Osaka Namba Ekimae',
                        type: 'Budget Business Hotel',
                        rating: 4.2,
                        price: 6500,
                        features: ['Namba Station Access', 'Public Bath', 'Free WiFi']
                    }
                },
                {
                    day: 6,
                    date: 'September 30, 2025',
                    area: 'Kyoto',
                    description: 'Kyoto Golden Temples & Nara Deer Park',
                    activities: [
                        ' Early departure: 7:00 AM from Osaka',
                        ' Keihan Main Line to Kyoto (1 hour, 400)',
                        ' Kinkaku-ji Golden Pavilion (5,500 per person)',
                        ' Bus to Arashiyama (45 min, 230)',
                        ' Arashiyama Bamboo Grove (Free)',
                        ' Traditional Kyoto lunch in Arashiyama',
                        ' Train to Nara (1.5 hours, 620)',
                        ' Nara Deer Park & Todai-ji Temple (5,600 per person)',
                        ' Evening: Fushimi Inari Shrine - 10,000 torii gates (Free)',
                        ' Return to Osaka via Keihan Line (1 hour, 400)'
                    ],
                    price: 20000,
                    highlights: ['Golden Pavilion', 'Bamboo Grove', 'Nara Deer Park', 'Fushimi Inari']
                },
                {
                    day: 7,
                    date: 'October 1, 2025',
                    area: 'Hiroshima',
                    description: 'Hiroshima Peace Memorial & Miyajima',
                    activities: [
                        ' Early departure: 7:30 AM from Osaka',
                        ' Shinkansen Nozomi to Hiroshima (1.5 hours, 11,300 per person)',
                        ' Hiroshima streetcar to Peace Park (20 min, 190)',
                        ' Atomic Bomb Dome (Free outdoor viewing)',
                        ' Peace Memorial Museum (5,200 per person)',
                        ' Hiroshima-style okonomiyaki lunch',
                        ' JR Ferry to Miyajima Island (45 min, 180)',
                        ' Itsukushima Shrine - Floating torii gate (5,300 per person)',
                        ' Overnight stay in Hiroshima'
                    ],
                    price: 18000,
                    highlights: ['Peace Memorial', 'Atomic History', 'Miyajima Island', 'Overnight Stay'],
                    accommodation: {
                        name: 'APA Hotel Hiroshima Ekimae Ohashi',
                        type: 'Budget Business Hotel',
                        rating: 4.0,
                        price: 5500,
                        features: ['4 min from Station', 'Public Bath', 'Free WiFi']
                    }
                },
                {
                    day: 8,
                    date: 'October 2-3, 2025',
                    area: 'Tokyo',
                    description: 'teamLab Planets, Tokyo Bay & Departure',
                    activities: [
                        ' Oct 2: Morning departure from Hiroshima',
                        ' Shinkansen return to Tokyo (4.5 hours, 18,050)',
                        ' Afternoon: teamLab Planets experience (9,500 per person)',
                        ' Toyosu Fish Market visit (Free)',
                        ' Tokyo Bayfront & Aqua City exploration',
                        ' Farewell dinner at traditional Izakaya',
                        ' Oct 3: Final souvenir shopping',
                        ' Private car to airport (15,000 group)',
                        ' Flight departure preparations'
                    ],
                    price: 14000,
                    highlights: ['teamLab Planets', 'Fish Market', 'Tokyo Bay', 'Departure Day']
                }
            ];
            
            const transportation = [
                {
                    name: 'Airport Pickup (Arrival)',
                    from: 'Airport',
                    to: 'Tokyo Accommodation',
                    date: 'September 25, 2025',
                    price: 15000,
                    notes: 'Private car pickup service - Group price for 3 people'
                },
                {
                    name: 'Tokyo to Osaka',
                    from: 'Tokyo Station',
                    to: 'Osaka Station',
                    date: 'September 29, 2025',
                    price: 13320,
                    notes: 'Hikari Shinkansen - One way per person (3 hours)'
                },
                {
                    name: 'Osaka to Hiroshima',
                    from: 'Osaka Station',
                    to: 'Hiroshima Station',
                    date: 'October 1, 2025',
                    price: 11300,
                    notes: 'Nozomi Shinkansen - One way to Hiroshima (1.5 hours)'
                },
                {
                    name: 'Hiroshima to Tokyo (Return)',
                    from: 'Hiroshima Station',
                    to: 'Tokyo Station',
                    date: 'October 2, 2025',
                    price: 18050,
                    notes: 'Nozomi Shinkansen - One way return to Tokyo (4.5 hours)'
                },
                {
                    name: 'Airport Drop-off (Departure)',
                    from: 'Tokyo Accommodation',
                    to: 'Airport',
                    date: 'October 3, 2025',
                    price: 15000,
                    notes: 'Private car drop-off service - Group price for 3 people'
                },
                {
                    name: 'Local Transport (8 days)',
                    from: 'Various locations',
                    to: 'Daily activities',
                    date: 'September 25 - October 3, 2025',
                    price: 8000,
                    notes: 'Daily metro/JR passes, IC card usage - estimated per person for all local transport'
                }
            ];
            
            const calculateTotal = () => {
                let total = dayTours.reduce((sum, tour) => sum + (tour.groupPrice ? tour.price : tour.price * 3), 0);
                // Add transportation costs - some are group prices, some are per person
                total += transportation.reduce((sum, transport) => {
                    if (transport.name.includes('Airport')) {
                        return sum + transport.price; // Group prices for airport transfers
                    } else {
                        return sum + (transport.price * 3); // Per person prices for trains
                    }
                }, 0);
                // Add accommodation costs
                total += dayTours.reduce((sum, tour) => sum + (tour.accommodation ? tour.accommodation.price * 3 : 0), 0);
                return total;
            };
            
            const calculatePerPerson = () => {
                let total = dayTours.reduce((sum, tour) => sum + (tour.groupPrice ? Math.round(tour.price / 3) : tour.price), 0);
                // Add transportation costs per person
                total += transportation.reduce((sum, transport) => {
                    if (transport.name.includes('Airport')) {
                        return sum + Math.round(transport.price / 3); // Group prices divided by 3
                    } else {
                        return sum + transport.price; // Per person prices
                    }
                }, 0);
                // Add accommodation costs per person
                total += dayTours.reduce((sum, tour) => sum + (tour.accommodation ? tour.accommodation.price : 0), 0);
                return total;
            };
            
            const getHighlightClass = (highlight) => {
                if (highlight.includes('Tokyo') || highlight.includes('Disney') || highlight.includes('Shinkansen')) {
                    return 'highlight-orange';
                } else if (highlight.includes('Mount Fuji') || highlight.includes('Scenic') || highlight.includes('Village')) {
                    return 'highlight-green';
                } else {
                    return 'highlight-blue';
                }
            };
            
            const getDayCardClass = (area) => {
                if (area.toLowerCase().includes('tokyo')) return 'day-card tokyo-day';
                if (area.toLowerCase().includes('osaka')) return 'day-card osaka-day';
                if (area.toLowerCase().includes('kyoto')) return 'day-card kyoto-day';
                if (area.toLowerCase().includes('hiroshima')) return 'day-card hiroshima-day';
                if (area.toLowerCase().includes('fuji')) return 'day-card fuji-day';
                if (area.toLowerCase().includes('disney')) return 'day-card disney-day';
                return 'day-card';
            };
            
            const InfoBanner = () => {
                const experienceCount = dayTours.reduce((sum, tour) => sum + tour.activities.length, 0);
                return (
                    <section className="itinerary-banner" aria-label="Itinerary overview">
                        <div className="banner-kicker">
                            <span className="pulse-dot" aria-hidden="true"></span>
                            Curated timeline
                        </div>
                        <h2>Timeline-first circuit from Tokyo arrival to Hiroshima reflection</h2>
                        <p>Modern navigation, balanced pacing, and intentional buffers ensure your family stays energized while covering Tokyo, Kansai, and the western highlights before flying home.</p>
                        <div className="info-banner__chips">
                            <div className="stat-chip">
                                <strong>{dayTours.length} days mapped</strong>
                                <span>Door-to-door clarity</span>
                            </div>
                            <div className="stat-chip">
                                <strong>4 anchor cities</strong>
                                <span>Tokyo  Osaka  Kyoto  Hiroshima</span>
                            </div>
                            <div className="stat-chip">
                                <strong>{experienceCount}+ touchpoints</strong>
                                <span>Culture  cuisine  motion</span>
                            </div>
                        </div>
                    </section>
                );
            };
            
            const RouteOverview = () => {
                const stops = [
                    { city: 'Tokyo', icon: '', days: 'Days 1-4 & 8' },
                    { city: 'Osaka', icon: '', days: 'Day 5' },
                    { city: 'Kyoto', icon: '', days: 'Day 6' },
                    { city: 'Hiroshima', icon: '', days: 'Day 7' },
                    { city: 'Tokyo', icon: '', days: 'Departure' }
                ];
                
                return (
                    <section className="route-overview" aria-label="Route overview">
                        <div className="route-overview__header">
                            <div>
                                <p className="banner-kicker muted">Route overview</p>
                                <h3>Tokyo launchpad  Kansai highlights  Hiroshima reflection</h3>
                                <p>Strategic sequencing with built-in buffer windows keeps transfers smooth and maximizes daylight for experiences.</p>
                            </div>
                            <div className="route-overview__chips">
                                <div className="stat-chip">
                                    <strong>3 Shinkansen legs</strong>
                                    <span>Reserved seats & luggage plans</span>
                                </div>
                                <div className="stat-chip">
                                    <strong>2 private rides</strong>
                                    <span>Airport & Mount Fuji region</span>
                                </div>
                                <div className="stat-chip">
                                    <strong>1 cohesive circuit</strong>
                                    <span>No backtracking days</span>
                                </div>
                            </div>
                        </div>
                        <div className="route-overview__path">
                            {stops.map((stop, idx) => (
                                <React.Fragment key={`${stop.city}-${idx}`}>
                                    <div className="route-stop">
                                        <div className="route-stop__icon" aria-hidden="true">{stop.icon}</div>
                                        <div className="route-stop__meta">
                                            <strong>{stop.city}</strong>
                                            <span>{stop.days}</span>
                                        </div>
                                    </div>
                                    {idx < stops.length - 1 && <div className="route-arrow" aria-hidden="true"></div>}
                                </React.Fragment>
                            ))}
                        </div>
                    </section>
                );
            };
            
            const ActivityList = ({ activities }) => (
                <ul className="activity-list">
                    {activities.map((activity, idx) => (
                        <li key={idx} className="activity-item">
                            <span className="activity-marker" aria-hidden="true"></span>
                            <p>{activity}</p>
                        </li>
                    ))}
                </ul>
            );
            
            const HighlightChips = ({ highlights }) => (
                <div className="highlight-chips">
                    {highlights.map((highlight, idx) => (
                        <span key={idx} className={`highlight-chip ${getHighlightClass(highlight)}`}>
                            {highlight}
                        </span>
                    ))}
                </div>
            );
            
            const AccommodationCard = ({ accommodation, area }) => (
                <div className="accommodation-card">
                    <div className="accommodation-card__header">
                        <div>
                            <p className="accommodation-card__label">Stay focus  {area}</p>
                            <h4>{accommodation.name}</h4>
                            <span>{accommodation.type}</span>
                        </div>
                        <div className="accommodation-card__price">
                            <strong>{formatPrice(accommodation.price, 'JPY')}</strong>
                            <span>per night</span>
                        </div>
                    </div>
                    <div className="accommodation-card__meta">
                        <span className="meta-pill"> {accommodation.rating} guest rating</span>
                        <div className="accommodation-card__features">
                            {accommodation.features.map((feature, idx) => (
                                <span key={idx}>{feature}</span>
                            ))}
                        </div>
                    </div>
                    <button type="button" className="accommodation-card__cta">Save this stay</button>
                </div>
            );
            
            const DayCard = ({ day, index }) => {
                const isExpanded = !!expandedDays[index];
                const panelId = `day-panel-${day.day}`;
                const triggerId = `day-trigger-${day.day}`;
                const perTravelerCost = day.groupPrice ? Math.round(day.price / 3) : day.price;
                
                return (
                    <article className={getDayCardClass(day.area)}>
                        <div className="timeline-node" aria-hidden="true">{day.day}</div>
                        <button
                            type="button"
                            id={triggerId}
                            className="day-accordion-trigger"
                            onClick={() => toggleExpanded(index)}
                            aria-expanded={isExpanded}
                            aria-controls={panelId}
                        >
                            <div className="day-accordion-meta">
                                <p className="day-accordion-kicker">Day {day.day}  {day.area}</p>
                                <h3>{day.description}</h3>
                                <div className="day-accordion-submeta">
                                    <span className="meta-pill"> {day.date}</span>
                                    <span className="meta-pill"> {day.area}</span>
                                    <span className="meta-pill">{day.activities.length} touchpoints</span>
                                </div>
                            </div>
                            <div className="day-accordion-cost">
                                <strong>{formatPrice(perTravelerCost, 'JPY')}</strong>
                                <span>{day.groupPrice ? 'Per traveler (shared)' : 'Per traveler'}</span>
                                <span className={`chevron ${isExpanded ? 'expanded' : ''}`} aria-hidden="true">
                                    <svg viewBox="0 0 24 24">
                                        <polyline points="6 9 12 15 18 9" />
                                    </svg>
                                </span>
                            </div>
                        </button>
                        <div
                            id={panelId}
                            className={`day-panel ${isExpanded ? 'open' : ''}`}
                            role="region"
                            aria-labelledby={triggerId}
                            aria-hidden={!isExpanded}
                        >
                            <ActivityList activities={day.activities} />
                            <HighlightChips highlights={day.highlights} />
                            {day.accommodation && (
                                <AccommodationCard accommodation={day.accommodation} area={day.area} />
                            )}
                        </div>
                    </article>
                );
            };
            
            const renderItinerary = () => (
                <div>
                    <InfoBanner />
                    <RouteOverview />
                    <div className="timeline-container">
                        <div className="timeline-spine" aria-hidden="true"></div>
                        {dayTours.map((day, index) => (
                            <DayCard key={day.day} day={day} index={index} />
                        ))}
                    </div>
                </div>
            );
            
            const renderTransportation = () => (
                <div>
                    <div className="warning-box">
                        <h4> Smart Transportation Strategy:</h4>
                        <p>Skip the expensive JR Pass! Individual tickets save you approximately 15,000+ compared to the 50,000 7-day pass. Your travel pattern focuses on Tokyo with just one Kansai day trip, making individual tickets much more economical.</p>
                    </div>
                    
                    {transportation.map((train, idx) => (
                        <div key={idx} className="transport-card">
                            <div className="transport-header">
                                <div className="transport-icon"></div>
                                <div>
                                    <h3>{train.name}</h3>
                                    <p> {train.date}</p>
                                </div>
                                <div className="day-cost">
                                    <div className="cost-amount">
                                        {train.name.includes('Airport') ? 
                                            formatPrice(train.price, 'JPY') : 
                                            formatPrice(train.price * 3, 'JPY')
                                        }
                                    </div>
                                    <div className="cost-per-person">
                                        {train.name.includes('Airport') ? 'Group Price' : 'Total for 3 People'}
                                    </div>
                                </div>
                            </div>
                            
                            <div className="info-box" style={{marginTop: '16px'}}>
                                <p>{train.notes}</p>
                            </div>
                        </div>
                    ))}
                    
                    <div className="info-box">
                        <h4>Additional Transportation Info:</h4>
                        <ul>
                            <li> Welcome Suica IC Card (1,500) for all local Tokyo transport</li>
                            <li> Tokyo local transport: 800-1,200 per day using IC card</li>
                            <li> Airport transfer: Narita Express (3,070) or Skyliner (2,580)</li>
                            <li> Mount Fuji day tour includes return transport from Tokyo</li>
                        </ul>
                    </div>
                </div>
            );
            
            const renderBudget = () => (
                <div>
                    <div className="budget-grid">
                        <div className="budget-card budget-primary">
                            <h4>Total for 3 People</h4>
                            <div className="budget-amount">{formatPrice(calculateTotal(), 'JPY')}</div>
                            <p>Complete 8-day Japan adventure</p>
                        </div>
                        
                        <div className="budget-card budget-green">
                            <h4>Cost Per Person</h4>
                            <div className="budget-amount">{formatPrice(calculatePerPerson(), 'JPY')}</div>
                            <p>Individual traveler cost</p>
                        </div>
                        
                        <div className="budget-card budget-blue">
                            <h4>Daily Average</h4>
                            <div className="budget-amount">{formatPrice(Math.round(calculatePerPerson() / 8), 'JPY')}</div>
                            <p>Per person, per day</p>
                        </div>
                    </div>
                    
                    <div className="info-box">
                        <h4> Cost Breakdown Summary</h4>
                        <div style={{display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(250px, 1fr))', gap: '20px', marginTop: '16px'}}>
                            <div>
                                <h5 style={{color: '#059669', marginBottom: '12px'}}>Major Experiences (Per Person)</h5>
                                <ul style={{fontSize: '0.9rem', lineHeight: '1.6', color: '#374151'}}>
                                    <li> Tokyo Disneyland: 19,000</li>
                                    <li> Universal Studios Japan: 35,000</li>
                                    <li> Mount Fuji Day Trip: 8,333 (group price)</li>
                                    <li> teamLab Planets: 14,000</li>
                                    <li> Tokyo Skytree: 12,500</li>
                                </ul>
                            </div>
                            <div>
                                <h5 style={{color: '#3b82f6', marginBottom: '12px'}}>What's Included</h5>
                                <ul style={{fontSize: '0.9rem', lineHeight: '1.6', color: '#374151'}}>
                                    <li> Airport pickup & drop-off (private car)</li>
                                    <li> All Shinkansen bullet train tickets</li>
                                    <li> All local transportation (metro, JR, buses)</li>
                                    <li> All attraction entrance fees & tickets</li>
                                    <li> Mount Fuji private car tour</li>
                                    <li> Budget APA Hotels (7 nights total)</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            );
            
            return (
                <div className="container">
                    <div className="header">
                        <div className="header-content">
                            <h1>Japan Adventure Itinerary</h1>
                            <p>First-Timer's Ultimate Experience  September 25 - October 3, 2025</p>
                        </div>
                        <div className="header-actions">
                            <button 
                                className="btn btn-secondary"
                                onClick={() => setCurrency(prev => prev === 'JPY' ? 'INR' : 'JPY')}
                            >
                                 {currency === 'JPY' ? 'Show INR' : 'Show JPY'}
                            </button>
                            <button 
                                className="btn btn-primary"
                                id="export-pdf-btn"
                            >
                                 Export PDF
                            </button>
                        </div>
                    </div>
                    
                    <div className="tabs">
                        <button 
                            className={`tab ${activeTab === 'itinerary' ? 'active' : ''}`}
                            onClick={() => setActiveTab('itinerary')}
                        >
                             Itinerary
                        </button>
                        <button 
                            className={`tab ${activeTab === 'transportation' ? 'active' : ''}`}
                            onClick={() => setActiveTab('transportation')}
                        >
                             Transportation
                        </button>
                        <button 
                            className={`tab ${activeTab === 'budget' ? 'active' : ''}`}
                            onClick={() => setActiveTab('budget')}
                        >
                             Budget
                        </button>
                    </div>
                    
                    <div className="content">
                        {activeTab === 'itinerary' && renderItinerary()}
                        {activeTab === 'transportation' && renderTransportation()}
                        {activeTab === 'budget' && renderBudget()}
                    </div>
                    
                    <div className="footer">
                        <div className="footer-content">
                            <div className="footer-item">
                                <h4>Total Cost (3 People)</h4>
                                <div className="footer-amount">{formatPrice(calculateTotal(), 'JPY')}</div>
                                <p style={{fontSize: '0.8rem', color: '#6b7280'}}>Complete 8-day adventure</p>
                            </div>
                            <div className="footer-item">
                                <h4>Cost Per Person</h4>
                                <div className="footer-amount" style={{color: '#3b82f6'}}>{formatPrice(calculatePerPerson(), 'JPY')}</div>
                                <p style={{fontSize: '0.8rem', color: '#6b7280'}}>Individual traveler cost</p>
                            </div>
                            <div className="footer-item">
                                <h4> Accommodation</h4>
                                <div style={{fontSize: '1.2rem', color: '#10b981', marginTop: '8px', fontWeight: '700'}}>7 NIGHTS</div>
                                <p style={{fontSize: '0.8rem', color: '#6b7280'}}>Tokyo, Osaka & Hiroshima hotels</p>
                            </div>
                        </div>
                    </div>
                </div>
            );
        };
        
        ReactDOM.render(<JapanItinerary />, document.getElementById('root'));
    </script>
    
    <!-- Professional PDF Export -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const btn = document.getElementById('export-pdf-btn');
            if (btn) {
                btn.onclick = function() {
                    const { jsPDF } = window.jspdf;
                    const pdf = new jsPDF('p', 'pt', 'a4');
                    
                    // Get the container
                    const container = document.querySelector('.container');
                    if (!container) {
                        alert('Content not found');
                        return;
                    }
                    
                    // Create a temporary wrapper for better PDF formatting
                    const wrapper = document.createElement('div');
                    wrapper.style.cssText = `
                        position: absolute;
                        left: -9999px;
                        width: 700px;
                        background: white;
                        font-family: 'Inter', sans-serif;
                        color: #1e293b;
                        line-height: 1.4;
                    `;
                    
                    // Clone and clean content for PDF
                    const clone = container.cloneNode(true);
                    
                    // Remove interactive elements and adjust styles for PDF
                    const buttonsToRemove = clone.querySelectorAll('button, .header-actions');
                    buttonsToRemove.forEach(el => el.remove());
                    
                    const tabs = clone.querySelector('.tabs');
                    if (tabs) tabs.remove();
                    
                    // Show all content in PDF
                    const content = clone.querySelector('.content');
                    if (content) {
                        content.innerHTML = `
                            <div class="info-box" style="background: #f0f9ff; border: 1px solid #0ea5e9; border-left: 4px solid #0ea5e9; padding: 16px; border-radius: 8px; margin-bottom: 20px;">
                                <h4 style="color: #0c4a6e; font-weight: 600; margin-bottom: 8px;"> Complete 8-Day Japan Adventure</h4>
                                <p style="color: #075985; font-size: 14px;">Experience the perfect balance of iconic attractions with authentic cultural experiences.</p>
                            </div>
                            <div id="pdf-itinerary"></div>
                            <div id="pdf-budget" style="margin-top: 30px;"></div>
                        `;
                        
                        // Add itinerary content
                        const itineraryContainer = content.querySelector('#pdf-itinerary');
                        const budgetContainer = content.querySelector('#pdf-budget');
                        
                        // Render itinerary for PDF
                        ReactDOM.render(
                            React.createElement('div', {}, 
                                React.createElement('h2', {style: {color: '#1e293b', marginBottom: '20px'}}, 'Daily Itinerary'),
                                ...window.dayTours.map(day => 
                                    React.createElement('div', {
                                        key: day.day,
                                        style: {
                                            border: '1px solid #e2e8f0',
                                            borderRadius: '8px',
                                            marginBottom: '16px',
                                            overflow: 'hidden'
                                        }
                                    },
                                        React.createElement('div', {
                                            style: {
                                                background: '#f8fafc',
                                                padding: '16px',
                                                borderBottom: '1px solid #e2e8f0'
                                            }
                                        },
                                            React.createElement('h3', {style: {margin: '0 0 8px 0', color: '#1e293b'}}, 
                                                `Day ${day.day}: ${day.description}`),
                                            React.createElement('p', {style: {margin: '0', fontSize: '14px', color: '#64748b'}}, 
                                                `${day.date}  ${day.area}`)
                                        ),
                                        React.createElement('div', {style: {padding: '16px'}},
                                            ...day.activities.map((activity, idx) => 
                                                React.createElement('div', {
                                                    key: idx,
                                                    style: {fontSize: '14px', marginBottom: '8px', color: '#475569'}
                                                }, ` ${activity}`)
                                            )
                                        )
                                    )
                                )
                            ),
                            itineraryContainer
                        );
                        
                        // Add budget summary
                        budgetContainer.innerHTML = `
                            <h2 style="color: #1e293b; margin-bottom: 20px;">Budget Summary</h2>
                            <div style="background: #3b82f6; color: white; padding: 20px; border-radius: 8px; text-align: center; margin-bottom: 16px;">
                                <h3 style="margin: 0 0 8px 0;">Total for 3 People</h3>
                                <div style="font-size: 28px; font-weight: bold;">${window.formatPrice ? window.formatPrice(window.calculateTotal(), 'JPY') : '294,420'}</div>
                            </div>
                            <div style="background: #f8fafc; padding: 16px; border-radius: 8px; border: 1px solid #e2e8f0;">
                                <h4 style="margin: 0 0 12px 0; color: #1e293b;">What's Included:</h4>
                                <ul style="margin: 0; padding-left: 20px; color: #475569; font-size: 14px; line-height: 1.6;">
                                    <li>All transportation (Shinkansen, local trains)</li>
                                    <li>All attraction entrance fees</li>
                                    <li>Mount Fuji private car transport</li>
                                    <li>Accommodation covered by host</li>
                                </ul>
                            </div>
                        `;
                    }
                    
                    wrapper.appendChild(clone);
                    document.body.appendChild(wrapper);
                    
                    // Use html2canvas alternative - convert to text-based PDF
                    setTimeout(() => {
                        try {
                            // Set up PDF margins and content
                            const pageWidth = pdf.internal.pageSize.getWidth();
                            const pageHeight = pdf.internal.pageSize.getHeight();
                            const margin = 40;
                            const contentWidth = pageWidth - (margin * 2);
                            let yPosition = margin;
                            
                            // Add title
                            pdf.setFontSize(24);
                            pdf.setFont(undefined, 'bold');
                            pdf.text('Japan Adventure Itinerary', margin, yPosition);
                            yPosition += 30;
                            
                            pdf.setFontSize(12);
                            pdf.setFont(undefined, 'normal');
                            pdf.text('First-Timer\'s Ultimate Experience  September 25 - October 3, 2025', margin, yPosition);
                            yPosition += 40;
                            
                            // Add daily itinerary
                            const days = [
                                {day: 1, title: 'Tokyo Arrival & Cultural Introduction', date: 'Sep 25', area: 'Tokyo', cost: '13,000'},
                                {day: 2, title: 'Tokyo Skytree & Modern Culture', date: 'Sep 26', area: 'Tokyo', cost: '12,500'},
                                {day: 3, title: 'Tokyo Disneyland Magic', date: 'Sep 27', area: 'Tokyo Disney', cost: '19,000'},
                                {day: 4, title: 'Mount Fuji Adventure Day', date: 'Sep 28', area: 'Mount Fuji', cost: '25,000*'},
                                {day: 5, title: 'Osaka Castle & Universal Studios', date: 'Sep 29', area: 'Osaka', cost: '35,000'},
                                {day: 6, title: 'Kyoto Golden Temples & Nara', date: 'Sep 30', area: 'Kyoto', cost: '20,000'},
                                {day: 7, title: 'Hiroshima Peace Memorial', date: 'Oct 1', area: 'Hiroshima', cost: '18,000'},
                                {day: 8, title: 'Tokyo Return & Departure', date: 'Oct 2-3', area: 'Tokyo', cost: '9,000'}
                            ];
                            
                            days.forEach(day => {
                                if (yPosition > pageHeight - 100) {
                                    pdf.addPage();
                                    yPosition = margin;
                                }
                                
                                pdf.setFontSize(14);
                                pdf.setFont(undefined, 'bold');
                                pdf.text(`Day ${day.day}: ${day.title}`, margin, yPosition);
                                yPosition += 20;
                                
                                pdf.setFontSize(10);
                                pdf.setFont(undefined, 'normal');
                                pdf.text(`${day.date}  ${day.area}  ${day.cost}`, margin, yPosition);
                                yPosition += 25;
                            });
                            
                            // Add budget summary on new page
                            pdf.addPage();
                            yPosition = margin;
                            
                            pdf.setFontSize(20);
                            pdf.setFont(undefined, 'bold');
                            pdf.text('Budget Summary', margin, yPosition);
                            yPosition += 40;
                            
                            pdf.setFontSize(14);
                            pdf.text('Total for 3 People: 406,500 (estimated)', margin, yPosition);
                            yPosition += 25;
                            
                            pdf.text('Cost Per Person: 135,500 (estimated)', margin, yPosition);
                            yPosition += 25;
                            
                            pdf.text('Daily Average: 16,938 per person', margin, yPosition);
                            yPosition += 40;
                            
                            pdf.setFontSize(12);
                            pdf.text('* Airport transfers and Mount Fuji are group prices', margin, yPosition);
                            yPosition += 20;
                            
                            pdf.text('Note: One night accommodation in Osaka included', margin, yPosition);
                            
                            // Save the PDF
                            pdf.save('Japan_Itinerary_Professional.pdf');
                            
                        } catch (error) {
                            console.error('PDF generation error:', error);
                            alert('PDF generation failed. Please try again.');
                        } finally {
                            // Clean up
                            document.body.removeChild(wrapper);
                        }
                    }, 100);
                };
            }
        });
    </script>
</body>
</html>